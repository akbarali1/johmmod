/*! For license information please see app.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(t,e,i){i(16),t.exports=i(56)},function(t,e,i){i(17),i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(49),i(50),i(51);var n=i(52);n.keys().map((function(t){return Vue.component(t.split("/").pop().split(".")[0],n(t).default)})),Vue.component("pagination",i(53));new Vue({el:"#app"})},function(t,e,i){try{window.Popper=i(4).default,window.$=window.jQuery=i(3),window.Vue=i(18),window.axios=i(22),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";i(39);i(41)}catch(t){}},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n,s,o;s=[i(3)],void 0===(o="function"==typeof(n=function(t){var e,i,n,s,o,a,r=function(){},l=!!window.jQuery,c=t(window),d=function(t,i){e.ev.on("mfp"+t+".mfp",i)},u=function(e,i,n,s){var o=document.createElement("div");return o.className="mfp-"+e,n&&(o.innerHTML=n),s?i&&i.appendChild(o):(o=t(o),i&&o.appendTo(i)),o},p=function(i,n){e.ev.triggerHandler("mfp"+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},h=function(i){return i===a&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),a=i),e.currTemplate.closeBtn},m=function(){t.magnificPopup.instance||((e=new r).init(),t.magnificPopup.instance=e)};r.prototype={constructor:r,init:function(){var i=navigator.appVersion;e.isLowIE=e.isIE8=document.all&&!document.addEventListener,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){var s;if(!1===i.isObj){e.items=i.items.toArray(),e.index=0;var a,r=i.items;for(s=0;s<r.length;s++)if((a=r[s]).parsed&&(a=a.el[0]),a===i.el[0]){e.index=s;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(!e.isOpen){e.types=[],o="",i.mainEl&&i.mainEl.length?e.ev=i.mainEl.eq(0):e.ev=n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=u("bg").on("click.mfp",(function(){e.close()})),e.wrap=u("wrap").attr("tabindex",-1).on("click.mfp",(function(t){e._checkIfClose(t.target)&&e.close()})),e.container=u("container",e.wrap)),e.contentContainer=u("content"),e.st.preloader&&(e.preloader=u("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(s=0;s<l.length;s++){var m=l[s];m=m.charAt(0).toUpperCase()+m.slice(1),e["init"+m].call(e)}p("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(d("MarkupParse",(function(t,e,i,n){i.close_replaceWith=h(n.type)})),o+=" mfp-close-btn-in"):e.wrap.append(h())),e.st.alignTop&&(o+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:c.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup.mfp",(function(t){27===t.keyCode&&e.close()})),c.on("resize.mfp",(function(){e.updateSize()})),e.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&e.wrap.addClass(o);var f=e.wH=c.height(),g={};if(e.fixedContentPos&&e._hasScrollBar(f)){var b=e._getScrollbarSize();b&&(g.marginRight=b)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):g.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),p("BuildControls"),t("html").css(g),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout((function(){e.content?(e._addClassToMFP("mfp-ready"),e._setFocus()):e.bgOverlay.addClass("mfp-ready"),n.on("focusin.mfp",e._onFocusIn)}),16),e.isOpen=!0,e.updateSize(f),p("Open"),i}e.updateItemHTML()},close:function(){e.isOpen&&(p("BeforeClose"),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP("mfp-removing"),setTimeout((function(){e._close()}),e.st.removalDelay)):e._close())},_close:function(){p("Close");var i="mfp-removing mfp-ready ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var s={marginRight:""};e.isIE7?t("body, html").css("overflow",""):s.overflow="",t("html").css(s)}n.off("keyup.mfp focusin.mfp"),e.ev.off(".mfp"),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,p("AfterClose")},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||c.height();e.fixedContentPos||e.wrap.css("height",e.wH),p("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(p("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var o=!!e.st[n]&&e.st[n].markup;p("FirstMarkupParse",o),e.currTemplate[n]=!o||t(o)}s&&s!==i.type&&e.container.removeClass("mfp-"+s+"-holder");var a=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(a,n),i.preloaded=!0,p("Change",i),s=i.type,e.container.prepend(e.contentContainer),p("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[i]?e.content.find(".mfp-close").length||e.content.append(h()):e.content=t:e.content="",p("BeforeAppend"),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,s=e.items[i];if(s.tagName?s={el:t(s)}:(n=s.type,s={data:s,src:s.src}),s.el){for(var o=e.types,a=0;a<o.length;a++)if(s.el.hasClass("mfp-"+o[a])){n=o[a];break}s.src=s.el.attr("data-mfp-src"),s.src||(s.src=s.el.attr("href"))}return s.type=n||e.st.type||"inline",s.index=i,s.parsed=!0,e.items[i]=s,p("ElementParse",s),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var s="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(s).on(s,n)):(i.isObj=!1,i.delegate?t.off(s).on(s,i.delegate,n):(i.items=t,t.off(s).on(s,n)))},_openClick:function(i,n,s){if((void 0!==s.midClick?s.midClick:t.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var o=void 0!==s.disableOn?s.disableOn:t.magnificPopup.defaults.disableOn;if(o)if(t.isFunction(o)){if(!o.call(e))return!0}else if(c.width()<o)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),s.el=t(i.mfpEl),s.delegate&&(s.items=n.find(s.delegate)),e.open(s)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var s={status:t,text:n};p("UpdateStatus",s),t=s.status,n=s.text,e.preloader.html(n),e.preloader.find("a").on("click",(function(t){t.stopImmediatePropagation()})),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass("mfp-prevent-close")){var n=e.st.closeOnContentClick,s=e.st.closeOnBgClick;if(n&&s)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(s&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||c.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){if(i.target!==e.wrap[0]&&!t.contains(e.wrap[0],i.target))return e._setFocus(),!1},_parseMarkup:function(e,i,n){var s;n.data&&(i=t.extend(n.data,i)),p("MarkupParse",[e,i,n]),t.each(i,(function(i,n){if(void 0===n||!1===n)return!0;if((s=i.split("_")).length>1){var o=e.find(".mfp-"+s[0]);if(o.length>0){var a=s[1];"replaceWith"===a?o[0]!==n[0]&&o.replaceWith(n):"img"===a?o.is("img")?o.attr("src",n):o.replaceWith(t("<img>").attr("src",n).attr("class",o.attr("class"))):o.attr(s[1],n)}}else e.find(".mfp-"+i).html(n)}))},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:r.prototype,modules:[],open:function(e,i){return m(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(i){m();var n=t(this);if("string"==typeof i)if("open"===i){var s,o=l?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?s=o.items[a]:(s=n,o.delegate&&(s=s.find(o.delegate)),s=s.eq(a)),e._openClick({mfpEl:s},n,o)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),l?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var f,g,b,v=function(){b&&(g.after(b.addClass(f)).detach(),b=null)};t.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push("inline"),d("Close.inline",(function(){v()}))},getInline:function(i,n){if(v(),i.src){var s=e.st.inline,o=t(i.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(g||(f=s.hiddenClass,g=u(f),f="mfp-"+f),b=o.after(g).detach().removeClass(f)),e.updateStatus("ready")}else e.updateStatus("error",s.tNotFound),o=t("<div>");return i.inlineElement=o,o}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var y,x=function(){y&&t(document.body).removeClass(y)},w=function(){x(),e.req&&e.req.abort()};t.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push("ajax"),y=e.st.ajax.cursor,d("Close.ajax",w),d("BeforeChange.ajax",w)},getAjax:function(i){y&&t(document.body).addClass(y),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,s,o){var a={data:n,xhr:o};p("ParseAjax",a),e.appendContent(t(a.data),"ajax"),i.finished=!0,x(),e._setFocus(),setTimeout((function(){e.wrap.addClass("mfp-ready")}),16),e.updateStatus("ready"),p("AjaxContentAdded")},error:function(){x(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var C,T,E=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),d("Open"+n,(function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)})),d("Close"+n,(function(){i.cursor&&t(document.body).removeClass(i.cursor),c.off("resize.mfp")})),d("Resize"+n,e.resizeImage),e.isLowIE&&d("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,C&&clearInterval(C),t.isCheckingImgSize=!1,p("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0];!function s(o){C&&clearInterval(C),C=setInterval((function(){n.naturalWidth>0?e._onImageHasSize(t):(i>200&&clearInterval(C),3==++i?s(10):40===i?s(50):100===i&&s(500))}),o)}(1)},getImage:function(i,n){var s=0,o=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=e.st.image,r=n.find(".mfp-img");if(r.length){var l=document.createElement("img");l.className="mfp-img",i.el&&i.el.find("img").length&&(l.alt=i.el.find("img").attr("alt")),i.img=t(l).on("load.mfploader",(function t(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,p("ImageLoadComplete")):++s<200?setTimeout(t,100):o())})).on("error.mfploader",o),l.src=i.src,r.is("img")&&(i.img=i.img.clone()),(l=i.img[0]).naturalWidth>0?i.hasSize=!0:l.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:E(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(C&&clearInterval(C),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}}),t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var s,o,a=i.duration,r=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,s={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return s["-webkit-"+o]=s["-moz-"+o]=s["-o-"+o]=s[o]=n,e.css(s),e},l=function(){e.content.css("visibility","visible")};d("BuildControls"+n,(function(){if(e._allowZoom()){if(clearTimeout(s),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void l();(o=r(t)).css(e._getOffset()),e.wrap.append(o),s=setTimeout((function(){o.css(e._getOffset(!0)),s=setTimeout((function(){l(),setTimeout((function(){o.remove(),t=o=null,p("ZoomAnimationEnded")}),16)}),a)}),16)}})),d("BeforeClose"+n,(function(){if(e._allowZoom()){if(clearTimeout(s),e.st.removalDelay=a,!t){if(!(t=e._getItemToZoom()))return;o=r(t)}o.css(e._getOffset(!0)),e.wrap.append(o),e.content.css("visibility","hidden"),setTimeout((function(){o.css(e._getOffset())}),16)}})),d("Close"+n,(function(){e._allowZoom()&&(l(),o&&o.remove(),t=null)}))}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(i){var n,s=(n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),o=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);s.top-=t(window).scrollTop()-o;var r={width:n.width(),height:(l?n.innerHeight():n[0].offsetHeight)-a-o};return void 0===T&&(T=void 0!==document.createElement("p").style.MozTransform),T?r["-moz-transform"]=r.transform="translate("+s.left+"px,"+s.top+"px)":(r.left=s.left,r.top=s.top),r}}});var S=function(t){if(e.currTemplate.iframe){var i=e.currTemplate.iframe.find("iframe");i.length&&(t||(i[0].src="//about:blank"),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push("iframe"),d("BeforeChange",(function(t,e,i){e!==i&&("iframe"===e?S():"iframe"===i&&S(!0))})),d("Close.iframe",(function(){S()}))},getIframe:function(i,n){var s=i.src,o=e.st.iframe;t.each(o.patterns,(function(){if(s.indexOf(this.index)>-1)return this.id&&(s="string"==typeof this.id?s.substr(s.lastIndexOf(this.id)+this.id.length,s.length):this.id.call(this,s)),s=this.src.replace("%id%",s),!1}));var a={};return o.srcAction&&(a[o.srcAction]=s),e._parseMarkup(n,a,i),e.updateStatus("ready"),n}}});var L=function(t){var i=e.items.length;return t>i-1?t-i:t<0?i+t:t},A=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,s=".mfp-gallery";if(e.direction=!0,!i||!i.enabled)return!1;o+=" mfp-gallery",d("Open"+s,(function(){i.navigateByImgClick&&e.wrap.on("click"+s,".mfp-img",(function(){if(e.items.length>1)return e.next(),!1})),n.on("keydown"+s,(function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()}))})),d("UpdateStatus"+s,(function(t,i){i.text&&(i.text=A(i.text,e.currItem.index,e.items.length))})),d("MarkupParse"+s,(function(t,n,s,o){var a=e.items.length;s.counter=a>1?A(i.tCounter,o.index,a):""})),d("BuildControls"+s,(function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,s=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),o=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");s.click((function(){e.prev()})),o.click((function(){e.next()})),e.container.append(s.add(o))}})),d("Change"+s,(function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout((function(){e.preloadNearbyImages(),e._preloadTimeout=null}),16)})),d("Close"+s,(function(){n.off(s),e.wrap.off("click"+s),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=L(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=L(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),s=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?s:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:s);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=L(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),p("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",(function(){n.hasSize=!0})).on("error.mfploader",(function(){n.hasSize=!0,n.loadError=!0,p("LazyLoadError",n)})).attr("src",n.src)),n.preloaded=!0}}}}),t.magnificPopup.registerModule("retina",{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,(function(t){return"@2x"+t}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;(i=isNaN(i)?i():i)>1&&(d("ImageHasSize.retina",(function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})})),d("ElementParse.retina",(function(e,n){n.src=t.replaceSrc(n,i)})))}}}}),m()})?n.apply(e,s):n)||(t.exports=o)},,function(t,e){function i(){var t=$("body");t.hasClass("sidebar_opened")?(t.removeClass("sidebar_opened"),setTimeout((function(){$(".top_nav .navbar-toggle").removeClass("toggled")}),500)):(t.addClass("sidebar_opened"),setTimeout((function(){$(".top_nav .navbar-toggle").addClass("toggled")}),500))}$(document).on("click",".navbar-toggler, .show_menu_btn",(function(){i()})).on("click",".sidebar_opened .overlay",(function(){$("body").hasClass("sidebar_opened")&&i()}))},function(t,e,i){(function(e){var i,n,s=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,i=0,n={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof s?new s(t.type,n.util.encode(t.content),t.alias):Array.isArray(t)?t.map(n.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++i}),t.__id},clone:function t(e,i){var s,o,a=n.util.type(e);switch(i=i||{},a){case"Object":if(o=n.util.objId(e),i[o])return i[o];for(var r in s={},i[o]=s,e)e.hasOwnProperty(r)&&(s[r]=t(e[r],i));return s;case"Array":return o=n.util.objId(e),i[o]?i[o]:(s=[],i[o]=s,e.forEach((function(e,n){s[n]=t(e,i)})),s);default:return e}},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(n){var t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(n.stack)||[])[1];if(t){var e=document.getElementsByTagName("script");for(var i in e)if(e[i].src==t)return e[i]}return null}}},languages:{extend:function(t,e){var i=n.util.clone(n.languages[t]);for(var s in e)i[s]=e[s];return i},insertBefore:function(t,e,i,s){var o=(s=s||n.languages)[t],a={};for(var r in o)if(o.hasOwnProperty(r)){if(r==e)for(var l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);i.hasOwnProperty(r)||(a[r]=o[r])}var c=s[t];return s[t]=a,n.languages.DFS(n.languages,(function(e,i){i===c&&e!=t&&(this[e]=a)})),a},DFS:function t(e,i,s,o){o=o||{};var a=n.util.objId;for(var r in e)if(e.hasOwnProperty(r)){i.call(e,r,e[r],s||r);var l=e[r],c=n.util.type(l);"Object"!==c||o[a(l)]?"Array"!==c||o[a(l)]||(o[a(l)]=!0,t(l,i,r,o)):(o[a(l)]=!0,t(l,i,null,o))}}},plugins:{},highlightAll:function(t,e){n.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,i){var s={callback:i,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",s);for(var o,a=t.querySelectorAll(s.selector),r=0;o=a[r++];)n.highlightElement(o,!0===e,s.callback)},highlightElement:function(i,s,o){var a=function(t){for(;t&&!e.test(t.className);)t=t.parentNode;return t?(t.className.match(e)||[,"none"])[1].toLowerCase():"none"}(i),r=n.languages[a];i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+a;var l=i.parentNode;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c={element:i,language:a,grammar:r,code:i.textContent};function d(t){c.highlightedCode=t,n.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,n.hooks.run("after-highlight",c),n.hooks.run("complete",c),o&&o.call(c.element)}if(n.hooks.run("before-sanity-check",c),!c.code)return n.hooks.run("complete",c),void(o&&o.call(c.element));if(n.hooks.run("before-highlight",c),c.grammar)if(s&&t.Worker){var u=new Worker(n.filename);u.onmessage=function(t){d(t.data)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else d(n.highlight(c.code,c.grammar,c.language));else d(n.util.encode(c.code))},highlight:function(t,e,i){var o={code:t,grammar:e,language:i};return n.hooks.run("before-tokenize",o),o.tokens=n.tokenize(o.code,o.grammar),n.hooks.run("after-tokenize",o),s.stringify(n.util.encode(o.tokens),o.language)},matchGrammar:function(t,e,i,o,a,r,l){for(var c in i)if(i.hasOwnProperty(c)&&i[c]){var d=i[c];d=Array.isArray(d)?d:[d];for(var u=0;u<d.length;++u){if(l&&l==c+","+u)return;var p=d[u],h=p.inside,m=!!p.lookbehind,f=!!p.greedy,g=0,b=p.alias;if(f&&!p.pattern.global){var v=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,v+"g")}p=p.pattern||p;for(var y=o,x=a;y<e.length;x+=e[y].length,++y){var w=e[y];if(e.length>t.length)return;if(!(w instanceof s)){if(f&&y!=e.length-1){if(p.lastIndex=x,!(A=p.exec(t)))break;for(var C=A.index+(m&&A[1]?A[1].length:0),T=A.index+A[0].length,E=y,S=x,L=e.length;E<L&&(S<T||!e[E].type&&!e[E-1].greedy);++E)(S+=e[E].length)<=C&&(++y,x=S);if(e[y]instanceof s)continue;_=E-y,w=t.slice(x,S),A.index-=x}else{p.lastIndex=0;var A=p.exec(w),_=1}if(A){m&&(g=A[1]?A[1].length:0),T=(C=A.index+g)+(A=A[0].slice(g)).length;var k=w.slice(0,C),R=w.slice(T),N=[y,_];k&&(++y,x+=k.length,N.push(k));var I=new s(c,h?n.tokenize(A,h):A,b,A,f);if(N.push(I),R&&N.push(R),Array.prototype.splice.apply(e,N),1!=_&&n.matchGrammar(t,e,i,y,x,!0,c+","+u),r)break}else if(r)break}}}}},tokenize:function(t,e){var i=[t],s=e.rest;if(s){for(var o in s)e[o]=s[o];delete e.rest}return n.matchGrammar(t,i,e,0,0,!1),i},hooks:{all:{},add:function(t,e){var i=n.hooks.all;i[t]=i[t]||[],i[t].push(e)},run:function(t,e){var i=n.hooks.all[t];if(i&&i.length)for(var s,o=0;s=i[o++];)s(e)}},Token:s};function s(t,e,i,n,s){this.type=t,this.content=e,this.alias=i,this.length=0|(n||"").length,this.greedy=!!s}if(t.Prism=n,s.stringify=function(t,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(t){return s.stringify(t,e)})).join("");var i={type:t.type,content:s.stringify(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};if(t.alias){var o=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,o)}n.hooks.run("wrap",i);var a=Object.keys(i.attributes).map((function(t){return t+'="'+(i.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(a?" "+a:"")+">"+i.content+"</"+i.tag+">"},!t.document)return t.addEventListener&&(n.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var i=JSON.parse(e.data),s=i.language,o=i.code,a=i.immediateClose;t.postMessage(n.highlight(o,n.languages[s],s)),a&&t.close()}),!1)),n;var o=n.util.currentScript();if(o&&(n.filename=o.src,o.hasAttribute("data-manual")&&(n.manual=!0)),!n.manual){var a=function(){n.manual||n.highlightAll()},r=document.readyState;"loading"===r||"interactive"===r&&o.defer?document.addEventListener("DOMContentLoaded",a):window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,16)}return n}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=s),void 0!==e&&(e.Prism=s),s.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:(?!<!--)[^"'\]]|"[^"]*"|'[^']*'|<!--[\s\S]*?-->)*\]\s*)?>/i,greedy:!0},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},s.languages.markup.tag.inside["attr-value"].inside.entity=s.languages.markup.entity,s.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(s.languages.markup.tag,"addInlined",{value:function(t,e){var i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:s.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};n["language-"+e]={pattern:/[\s\S]+/,inside:s.languages[e]};var o={};o[t]={pattern:RegExp("(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)".replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:n},s.languages.insertBefore("markup","cdata",o)}}),s.languages.xml=s.languages.extend("markup",{}),s.languages.html=s.languages.markup,s.languages.mathml=s.languages.markup,s.languages.svg=s.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+e.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var i=t.languages.markup;i&&(i.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},i.tag))}(s),s.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},s.languages.javascript=s.languages.extend("clike",{"class-name":[s.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&|\|\||[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?[.?]?|[~:]/}),s.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,s.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*(?:$|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:s.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:s.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:s.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:s.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),s.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:s.languages.javascript}},string:/[\s\S]+/}}}),s.languages.markup&&s.languages.markup.tag.addInlined("script","javascript"),s.languages.js=s.languages.javascript,function(t){function e(t,e){return"___"+t.toUpperCase()+e+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(i,n,s,o){if(i.language===n){var a=i.tokenStack=[];i.code=i.code.replace(s,(function(t){if("function"==typeof o&&!o(t))return t;for(var s,r=a.length;-1!==i.code.indexOf(s=e(n,r));)++r;return a[r]=t,s})),i.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(i,n){if(i.language===n&&i.tokenStack){i.grammar=t.languages[n];var s=0,o=Object.keys(i.tokenStack);!function a(r){for(var l=0;l<r.length&&!(s>=o.length);l++){var c=r[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var d=o[s],u=i.tokenStack[d],p="string"==typeof c?c:c.content,h=e(n,d),m=p.indexOf(h);if(-1<m){++s;var f=p.substring(0,m),g=new t.Token(n,t.tokenize(u,i.grammar),"language-"+n,u),b=p.substring(m+h.length),v=[];f&&v.push.apply(v,a([f])),v.push(g),b&&v.push.apply(v,a([b])),"string"==typeof c?r.splice.apply(r,[l,1].concat(v)):c.content=v}}else c.content&&a(c.content)}return r}(i.tokens)}}}})}(s),function(t){t.languages.php=t.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),t.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),t.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),t.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),t.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var e={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:t.languages.php};t.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:e}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:e}}}),delete t.languages.php.string,t.hooks.add("before-tokenize",(function(e){/<\?/.test(e.code)&&t.languages["markup-templating"].buildPlaceholders(e,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi)})),t.hooks.add("after-tokenize",(function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"php")}))}(s),n=(i=s).languages.javadoclike={parameter:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*@(?:param|arg|arguments)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/},Object.defineProperty(n,"addSupport",{value:function(t,e){"string"==typeof t&&(t=[t]),t.forEach((function(t){!function(t,e){var n="doc-comment",s=i.languages[t];if(s){var o=s[n];if(o||(o=(s=i.languages.insertBefore(t,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[n]),o instanceof RegExp&&(o=s[n]={pattern:o}),Array.isArray(o))for(var a=0,r=o.length;a<r;a++)o[a]instanceof RegExp&&(o[a]={pattern:o[a]}),e(o[a]);else e(o)}}(t,(function(t){t.inside||(t.inside={}),t.inside.rest=e}))}))}}),n.addSupport(["java","javascript","php"],n),function(t){var e="(?:[a-zA-Z]\\w*|[|\\\\[\\]])+";t.languages.phpdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+e+"\\s+)?)\\$\\w+"),lookbehind:!0}}),t.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+e),lookbehind:!0,inside:{keyword:/\b(?:callback|resource|boolean|integer|double|object|string|array|false|float|mixed|bool|null|self|true|void|int)\b/,punctuation:/[|\\[\]()]/}}]}),t.languages.javadoclike.addSupport("php",t.languages.phpdoc)}(s),s.languages.insertBefore("php","variable",{this:/\$this\b/,global:/\$(?:_(?:SERVER|GET|POST|FILES|REQUEST|SESSION|ENV|COOKIE)|GLOBALS|HTTP_RAW_POST_DATA|argc|argv|php_errormsg|http_response_header)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/static|self|parent/,punctuation:/::|\\/}}}),s.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURNS?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+\.?\d*|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(){if("undefined"!=typeof self&&self.Prism&&self.document){var t="line-numbers",e=/\n(?!$)/g,i=function(t){var i=n(t)["white-space"];if("pre-wrap"===i||"pre-line"===i){var s=t.querySelector("code"),o=t.querySelector(".line-numbers-rows"),a=t.querySelector(".line-numbers-sizer"),r=s.textContent.split(e);a||((a=document.createElement("span")).className="line-numbers-sizer",s.appendChild(a)),a.style.display="block",r.forEach((function(t,e){a.textContent=t||"\n";var i=a.getBoundingClientRect().height;o.children[e].style.height=i+"px"})),a.textContent="",a.style.display="none"}},n=function(t){return t?window.getComputedStyle?getComputedStyle(t):t.currentStyle||null:null};window.addEventListener("resize",(function(){Array.prototype.forEach.call(document.querySelectorAll("pre."+t),i)})),s.hooks.add("complete",(function(t){if(t.code){var n=t.element,o=n.parentNode;if(o&&/pre/i.test(o.nodeName)&&!n.querySelector(".line-numbers-rows")){for(var a=!1,r=/(?:^|\s)line-numbers(?:\s|$)/,l=n;l;l=l.parentNode)if(r.test(l.className)){a=!0;break}if(a){n.className=n.className.replace(r," "),r.test(o.className)||(o.className+=" line-numbers");var c,d=t.code.match(e),u=d?d.length+1:1,p=new Array(u+1).join("<span></span>");(c=document.createElement("span")).setAttribute("aria-hidden","true"),c.className="line-numbers-rows",c.innerHTML=p,o.hasAttribute("data-start")&&(o.style.counterReset="linenumber "+(parseInt(o.getAttribute("data-start"),10)-1)),t.element.appendChild(c),i(o),s.hooks.run("line-numbers",t)}}}})),s.hooks.add("line-numbers",(function(t){t.plugins=t.plugins||{},t.plugins.lineNumbers=!0})),s.plugins.lineNumbers={getLine:function(e,i){if("PRE"===e.tagName&&e.classList.contains(t)){var n=e.querySelector(".line-numbers-rows"),s=parseInt(e.getAttribute("data-start"),10)||1,o=s+(n.children.length-1);i<s&&(i=s),o<i&&(i=o);var a=i-s;return n.children[a]}}}}}()}).call(this,i(1))},function(t,e){function i(){$("#first_post_block .post-preview").toggle(0)}$("#first_post").on("hide.bs.collapse",(function(t){i()})).on("shown.bs.collapse",(function(){i()})),$((function(){$(".image-gallery").each((function(){$(this).magnificPopup({delegate:".gallery-item",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(t){return t.el.attr("title")+' &middot; <a class="image-source-link" href="'+t.el.attr("data-source")+'" target="_blank">Download</a>'}},zoom:{enabled:!0,duration:300,opener:function(t){return t.find("img")}}})})),$(".image-preview").magnificPopup({type:"image",image:{verticalFit:!0,titleSrc:function(t){return t.el.attr("title")+' &middot; <a class="image-source-link" href="'+t.el.attr("data-source")+'" target="_blank">Download</a>'}},zoom:{enabled:!0,duration:300,opener:function(t){return t.find("img")}}}),$('[data-toggle="tooltip"]').tooltip()})),$(".custom-file-input").on("change",(function(){var t=$(this).val().split("\\").pop();$(this).siblings(".custom-file-label").addClass("selected").html(t)}))},function(t,e){$((function(){var t=$(".ajax_modal");t.on("show.bs.modal",(function(t){$(".ajax_modal .modal-content").html('<div class="text-center p-5"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div>')})),t.on("shown.bs.modal",(function(t){var e=$(t.relatedTarget).data();$.ajax({type:"POST",url:e.url,dataType:"html",data:e,success:function(t){$(".ajax_modal .modal-content").html(t)}})}))})),$(document).on("click",".select_language",(function(t){t.preventDefault();var e=$('form[name="select_language"]');$.ajax({type:"POST",url:e.attr("action"),dataType:"html",data:e.serialize(),success:function(t){$(".ajax_modal").modal("hide"),document.location.href=document.location.href}})}))},function(t,e,i){"use strict";i.r(e);var n=i(14);new(i.n(n).a)(".screenshots",{slidesPerView:1,spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:3,spaceBetween:20}}})},function(t,e){$((function(){function t(t){return t/100*360}$(".rounded-progress").each((function(){var e=$(this).attr("data-value"),i=$(this).find(".progress-left .progress-bar"),n=$(this).find(".progress-right .progress-bar");e>0&&(e<=50?n.css("transform","rotate("+t(e)+"deg)"):(n.css("transform","rotate(180deg)"),i.css("transform","rotate("+t(e-50)+"deg)")))}))}))},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"==typeof WBBLANG&&(WBBLANG={}),WBBLANG.en=CURLANG={bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",link:"Link",img:"Insert image",sup:"Superscript",sub:"Subscript",justifyleft:"Align left",justifycenter:"Align center",justifyright:"Align right",table:"Insert table",bullist:"• Unordered list",numlist:"1. Ordered list",quote:"Quote",offtop:"Offtop",code:"Code",spoiler:"Spoiler",fontcolor:"Font color",fontsize:"Font size",fontfamily:"Font family",fs_verysmall:"Very small",fs_small:"Small",fs_normal:"Normal",fs_big:"Big",fs_verybig:"Very big",smilebox:"Insert emoticon",video:"Insert YouTube",removeFormat:"Remove Format",modal_link_title:"Insert link",modal_link_text:"Display text",modal_link_url:"URL",modal_email_text:"Display email",modal_email_url:"Email",modal_link_tab1:"Insert URL",modal_img_title:"Insert image",modal_img_tab1:"Insert URL",modal_img_tab2:"Upload image",modal_imgsrc_text:"Enter image URL",modal_img_btn:"Choose file",add_attach:"Add Attachment",modal_video_text:"Enter the URL of the video",close:"Close",save:"Save",cancel:"Cancel",remove:"Delete",validation_err:"The entered data is invalid",error_onupload:"Error during file upload",fileupload_text1:"Drop file here",fileupload_text2:"or",loading:"Loading",auto:"Auto",views:"Views",downloads:"Downloads",sm1:"Smile",sm2:"Laughter",sm3:"Wink",sm4:"Thank you",sm5:"Scold",sm6:"Shock",sm7:"Angry",sm8:"Pain",sm9:"Sick"},wbbdebug=!0,function(t){"use strict";t.wysibb=function(e,i){t(e).data("wbb",this),i&&i.deflang&&void 0!==WBBLANG[i.deflang]&&(CURLANG=WBBLANG[i.deflang]),i&&i.lang&&void 0!==WBBLANG[i.lang]&&(CURLANG=WBBLANG[i.lang]),this.txtArea=e,this.$txtArea=t(e);this.$txtArea.attr("id")||this.setUID(this.txtArea);this.options={bbmode:!1,onlyBBmode:!1,themeName:"default",bodyClass:"",lang:"ru",tabInsert:!0,imgupload:!1,img_uploadurl:"/iupload.php",img_maxwidth:800,img_maxheight:800,hotkeys:!0,showHotkeys:!0,autoresize:!0,resize_maxheight:800,loadPageStyles:!0,traceTextarea:!0,smileConversion:!0,buttons:"bold,italic,underline,strike,sup,sub,|,img,video,link,|,bullist,numlist,|,fontcolor,fontsize,fontfamily,|,justifyleft,justifycenter,justifyright,|,quote,code,table,removeFormat",allButtons:{bold:{title:CURLANG.bold,buttonHTML:'<span class="fonticon ve-tlb-bold1"></span>',excmd:"bold",hotkey:"ctrl+b",transform:{"<b>{SELTEXT}</b>":"[b]{SELTEXT}[/b]","<strong>{SELTEXT}</strong>":"[b]{SELTEXT}[/b]"}},italic:{title:CURLANG.italic,buttonHTML:'<span class="fonticon ve-tlb-italic1"></span>',excmd:"italic",hotkey:"ctrl+i",transform:{"<i>{SELTEXT}</i>":"[i]{SELTEXT}[/i]","<em>{SELTEXT}</em>":"[i]{SELTEXT}[/i]"}},underline:{title:CURLANG.underline,buttonHTML:'<span class="fonticon ve-tlb-underline1"></span>',excmd:"underline",hotkey:"ctrl+u",transform:{"<u>{SELTEXT}</u>":"[u]{SELTEXT}[/u]"}},strike:{title:CURLANG.strike,buttonHTML:'<span class="fonticon fi-stroke1 ve-tlb-strike1"></span>',excmd:"strikeThrough",transform:{"<strike>{SELTEXT}</strike>":"[s]{SELTEXT}[/s]","<s>{SELTEXT}</s>":"[s]{SELTEXT}[/s]"}},sup:{title:CURLANG.sup,buttonHTML:'<span class="fonticon ve-tlb-sup1"></span>',excmd:"superscript",transform:{"<sup>{SELTEXT}</sup>":"[sup]{SELTEXT}[/sup]"}},sub:{title:CURLANG.sub,buttonHTML:'<span class="fonticon ve-tlb-sub1"></span>',excmd:"subscript",transform:{"<sub>{SELTEXT}</sub>":"[sub]{SELTEXT}[/sub]"}},link:{title:CURLANG.link,buttonHTML:'<span class="fonticon ve-tlb-link1"></span>',hotkey:"ctrl+shift+2",modal:{title:CURLANG.modal_link_title,width:"500px",tabs:[{input:[{param:"SELTEXT",title:CURLANG.modal_link_text,type:"div"},{param:"URL",title:CURLANG.modal_link_url,validation:"^http(s)?://"}]}]},transform:{'<a href="{URL}">{SELTEXT}</a>':"[url={URL}]{SELTEXT}[/url]",'<a href="{URL}">{URL}</a>':"[url]{URL}[/url]"}},img:{title:CURLANG.img,buttonHTML:'<span class="fonticon ve-tlb-img1"></span>',hotkey:"ctrl+shift+1",addWrap:!0,modal:{title:CURLANG.modal_img_title,width:"600px",tabs:[{title:CURLANG.modal_img_tab1,input:[{param:"SRC",title:CURLANG.modal_imgsrc_text,validation:"^http(s)?://.*?.(jpg|png|gif|jpeg)$"}]}],onLoad:this.imgLoadModal},transform:{'<img src="{SRC}" />':"[img]{SRC}[/img]",'<img src="{SRC}" width="{WIDTH}" height="{HEIGHT}"/>':"[img width={WIDTH},height={HEIGHT}]{SRC}[/img]"}},bullist:{title:CURLANG.bullist,buttonHTML:'<span class="fonticon ve-tlb-list1"></span>',excmd:"insertUnorderedList",transform:{"<ul>{SELTEXT}</ul>":"[list]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},numlist:{title:CURLANG.numlist,buttonHTML:'<span class="fonticon ve-tlb-numlist1"></span>',excmd:"insertOrderedList",transform:{"<ol>{SELTEXT}</ol>":"[list=1]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},quote:{title:CURLANG.quote,buttonHTML:'<span class="fonticon ve-tlb-quote1"></span>',hotkey:"ctrl+shift+3",transform:{'<blockquote class="blockquote post-quote p-2 bg-light border rounded d-inline-block">{SELTEXT}</blockquote>':"[quote]{SELTEXT}[/quote]"}},code:{title:CURLANG.code,buttonText:"[code]",hotkey:"ctrl+shift+4",onlyClearText:!0,transform:{"<code>{SELTEXT}</code>":"[code=php]{SELTEXT}[/code]"}},offtop:{title:CURLANG.offtop,buttonText:"offtop",transform:{'<span style="font-size:10px;color:#ccc">{SELTEXT}</span>':"[offtop]{SELTEXT}[/offtop]"}},fontcolor:{type:"colorpicker",title:CURLANG.fontcolor,excmd:"foreColor",valueBBname:"color",subInsert:!0,colors:"#000000,#444444,#666666,#999999,#b6b6b6,#cccccc,#d8d8d8,#efefef,#f4f4f4,#ffffff,-, \t\t\t\t\t\t\t #ff0000,#980000,#ff7700,#ffff00,#00ff00,#00ffff,#1e84cc,#0000ff,#9900ff,#ff00ff,-, \t\t\t\t\t\t\t #f4cccc,#dbb0a7,#fce5cd,#fff2cc,#d9ead3,#d0e0e3,#c9daf8,#cfe2f3,#d9d2e9,#ead1dc, \t\t\t\t\t\t\t #ea9999,#dd7e6b,#f9cb9c,#ffe599,#b6d7a8,#a2c4c9,#a4c2f4,#9fc5e8,#b4a7d6,#d5a6bd, \t\t\t\t\t\t\t #e06666,#cc4125,#f6b26b,#ffd966,#93c47d,#76a5af,#6d9eeb,#6fa8dc,#8e7cc3,#c27ba0, \t\t\t\t\t\t\t #cc0000,#a61c00,#e69138,#f1c232,#6aa84f,#45818e,#3c78d8,#3d85c6,#674ea7,#a64d79, \t\t\t\t\t\t\t #900000,#85200C,#B45F06,#BF9000,#38761D,#134F5C,#1155Cc,#0B5394,#351C75,#741B47, \t\t\t\t\t\t\t #660000,#5B0F00,#783F04,#7F6000,#274E13,#0C343D,#1C4587,#073763,#20124D,#4C1130",transform:{'<font color="{COLOR}">{SELTEXT}</font>':"[color={COLOR}]{SELTEXT}[/color]"}},table:{type:"table",title:CURLANG.table,cols:10,rows:10,cellwidth:20,transform:{"<td>{SELTEXT}</td>":"[td]{SELTEXT}[/td]","<tr>{SELTEXT}</tr>":"[tr]{SELTEXT}[/tr]",'<table class="wbb-table">{SELTEXT}</table>':"[table]{SELTEXT}[/table]"},skipRules:!0},fontsize:{type:"select",title:CURLANG.fontsize,options:"fs_verysmall,fs_small,fs_normal,fs_big,fs_verybig"},fontfamily:{type:"select",title:CURLANG.fontfamily,excmd:"fontName",valueBBname:"font",options:[{title:"Arial",exvalue:"Arial"},{title:"Comic Sans MS",exvalue:"Comic Sans MS"},{title:"Courier New",exvalue:"Courier New"},{title:"Georgia",exvalue:"Georgia"},{title:"Lucida Sans Unicode",exvalue:"Lucida Sans Unicode"},{title:"Tahoma",exvalue:"Tahoma"},{title:"Times New Roman",exvalue:"Times New Roman"},{title:"Trebuchet MS",exvalue:"Trebuchet MS"},{title:"Verdana",exvalue:"Verdana"}],transform:{'<font face="{FONT}">{SELTEXT}</font>':"[font={FONT}]{SELTEXT}[/font]"}},smilebox:{type:"smilebox",title:CURLANG.smilebox,buttonHTML:'<span class="fonticon ve-tlb-smilebox1"></span>'},justifyleft:{title:CURLANG.justifyleft,buttonHTML:'<span class="fonticon ve-tlb-textleft1"></span>',groupkey:"align",transform:{'<p style="text-align:left">{SELTEXT}</p>':"[left]{SELTEXT}[/left]"}},justifyright:{title:CURLANG.justifyright,buttonHTML:'<span class="fonticon ve-tlb-textright1"></span>',groupkey:"align",transform:{'<p style="text-align:right">{SELTEXT}</p>':"[right]{SELTEXT}[/right]"}},justifycenter:{title:CURLANG.justifycenter,buttonHTML:'<span class="fonticon ve-tlb-textcenter1"></span>',groupkey:"align",transform:{'<p style="text-align:center">{SELTEXT}</p>':"[center]{SELTEXT}[/center]"}},video:{title:CURLANG.video,buttonHTML:'<span class="fonticon ve-tlb-video1"></span>',modal:{title:CURLANG.video,width:"600px",tabs:[{title:CURLANG.video,input:[{param:"SRC",title:CURLANG.modal_video_text}]}],onSubmit:function(t,e,i){var n,s=this.$modal.find('input[name="SRC"]').val();if(s&&(s=s.replace(/^\s+/,"").replace(/\s+$/,"")),(n=-1!=s.indexOf("youtu.be")?s.match(/^http[s]*:\/\/youtu\.be\/([a-z0-9_-]+)/i):s.match(/^http[s]*:\/\/www\.youtube\.com\/watch\?.*?v=([a-z0-9_-]+)/i))&&2==n.length){var o=n[1];this.insertAtCursor(this.getCodeByCommand(t,{src:o}))}return this.closeModal(),this.updateUI(),!1}},transform:{'<div style="max-width: 600px"><div class="embed-responsive embed-responsive-16by9"><iframe src="http://www.youtube.com/embed/{SRC}" frameborder="0"></iframe></div></div>':"[youtube]https://www.youtube.com/watch?v={SRC}[/youtube]"}},fs_verysmall:{title:CURLANG.fs_verysmall,buttonText:"fs1",excmd:"fontSize",exvalue:"1",transform:{'<font size="1">{SELTEXT}</font>':"[size=50]{SELTEXT}[/size]"}},fs_small:{title:CURLANG.fs_small,buttonText:"fs2",excmd:"fontSize",exvalue:"2",transform:{'<font size="2">{SELTEXT}</font>':"[size=85]{SELTEXT}[/size]"}},fs_normal:{title:CURLANG.fs_normal,buttonText:"fs3",excmd:"fontSize",exvalue:"3",transform:{'<font size="3">{SELTEXT}</font>':"[size=100]{SELTEXT}[/size]"}},fs_big:{title:CURLANG.fs_big,buttonText:"fs4",excmd:"fontSize",exvalue:"4",transform:{'<font size="4">{SELTEXT}</font>':"[size=150]{SELTEXT}[/size]"}},fs_verybig:{title:CURLANG.fs_verybig,buttonText:"fs5",excmd:"fontSize",exvalue:"6",transform:{'<font size="6">{SELTEXT}</font>':"[size=200]{SELTEXT}[/size]"}},removeformat:{title:CURLANG.removeFormat,buttonHTML:'<span class="fonticon ve-tlb-removeformat1"></span>',excmd:"removeFormat"}},systr:{"<br/>":"\n",'<span class="wbbtab">{SELTEXT}</span>':"   {SELTEXT}"},customRules:{td:[["[td]{SELTEXT}[/td]",{seltext:{rgx:!1,attr:!1,sel:!1}}]],tr:[["[tr]{SELTEXT}[/tr]",{seltext:{rgx:!1,attr:!1,sel:!1}}]],table:[["[table]{SELTEXT}[/table]",{seltext:{rgx:!1,attr:!1,sel:!1}}]]},smileList:[],attrWrap:["src","color","href"]},this.inited=this.options.onlyBBmode,this.options.themePrefix||t("link").each(t.proxy((function(e,i){var n=t(i).get(0).href.match(/(.*\/)(.*)\/wbbtheme\.css.*$/);null!==n&&(this.options.themeName=n[2],this.options.themePrefix=n[1])}),this)),"undefined"!=typeof WBBPRESET&&(WBBPRESET.allButtons&&t.each(WBBPRESET.allButtons,t.proxy((function(t,e){e.transform&&this.options.allButtons[t]&&delete this.options.allButtons[t].transform}),this)),t.extend(!0,this.options,WBBPRESET)),i&&i.allButtons&&t.each(i.allButtons,t.proxy((function(t,e){e.transform&&this.options.allButtons[t]&&delete this.options.allButtons[t].transform}),this)),t.extend(!0,this.options,i),this.init()},t.wysibb.prototype={lastid:1,init:function(){var e;t.log("Init",this),this.isMobile=(e=navigator.userAgent||navigator.vendor||window.opera,void/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)),!0===this.options.onlyBBmode&&(this.options.bbmode=!0),this.controllers=[],this.options.buttons=this.options.buttons.toLowerCase(),this.options.buttons=this.options.buttons.split(","),this.options.allButtons._systr={},this.options.allButtons._systr.transform=this.options.systr,this.smileFind(),this.initTransforms(),this.build(),this.initModal(),!0!==this.options.hotkeys||this.isMobile||this.initHotkeys(),this.options.smileList&&this.options.smileList.length>0&&this.options.smileList.sort((function(t,e){return e.bbcode.length-t.bbcode.length})),this.$txtArea.parents("form").bind("submit",t.proxy((function(){return this.sync(),!0}),this)),this.$txtArea.parents("form").find("input[id*='preview'],input[id*='submit'],input[class*='preview'],input[class*='submit'],input[name*='preview'],input[name*='submit']").bind("mousedown",t.proxy((function(){this.sync(),setTimeout(t.proxy((function(){!1===this.options.bbmode&&this.$txtArea.removeAttr("wbbsync").val("")}),this),1e3)}),this)),this.options.initCallback&&this.options.initCallback.call(this),t.log(this)},initTransforms:function(){t.log("Create rules for transform HTML=>BB");var e=this.options;e.rules||(e.rules={}),e.groups||(e.groups={});var i=e.buttons.slice();i.push("_systr");for(var n=0;n<i.length;n++){var s=e.allButtons[i[n]];if(s){if(s.en=!0,s.simplebbcode&&t.isArray(s.simplebbcode)&&2==s.simplebbcode.length&&(s.bbcode=s.html=s.simplebbcode[0]+"{SELTEXT}"+s.simplebbcode[1],s.transform&&delete s.transform,s.modal&&delete s.modal),"select"==s.type&&"string"==typeof s.options){var o=s.options.split(",");t.each(o,(function(e,n){-1==t.inArray(n,i)&&i.push(n)}))}if(s.transform&&!0!==s.skipRules){var a=t.extend({},s.transform);for(var r in a){var l=r,c=a[r];if(s.bbSelector||(s.bbSelector=[]),-1==t.inArray(c,s.bbSelector)&&s.bbSelector.push(c),!1===this.options.onlyBBmode){r=this.wrapAttrs(r);var d=t(document.createElement("DIV")).append(t(this.elFromString(r,document))),u=this.filterByNode(d.children());if("div"==u||void 0!==e.rules[u]){t.log("create unique selector: "+u),this.setUID(d.children()),u=this.filterByNode(d.children()),t.log("New rootSelector: "+u);var p=d.html();p=this.unwrapAttrs(p);var h=this.unwrapAttrs(r);s.transform[p]=c,delete s.transform[h],r=p,l=p}s.excmd||(s.rootSelector||(s.rootSelector=[]),s.rootSelector.push(u)),void 0===e.rules[u]&&(e.rules[u]=[]);var m={};if(r.match(/\{\S+?\}/)){d.find("*").each(t.proxy((function(e,i){var n=this.getAttributeList(i);t.each(n,t.proxy((function(e,n){var s=t(i).attr(n);"_"==n.substr(0,1)&&(n=n.substr(1));var o=s.match(/\{\S+?\}/g);if(o)for(var a=0;a<o.length;a++){var r=o[a].substr(1,o[a].length-2);r=r.replace(this.getValidationRGX(r),"");var l=this.relFilterByNode(i,u),c=s!=o[a]&&this.getRegexpReplace(s,o[a]);m[r.toLowerCase()]={sel:!!l&&t.trim(l),attr:n,rgx:c}}}),this));var s=[];t(i).is("iframe")||t(i).contents().filter((function(){return 3===this.nodeType})).each(t.proxy((function(e,n){var o=n.textContent||n.data;if(void 0===o)return!0;var a=o.match(/\{\S+?\}/g);if(a)for(var r=0;r<a.length;r++){var l=a[r].substr(1,a[r].length-2);l=l.replace(this.getValidationRGX(l),"");var c=this.relFilterByNode(i,u),d=o!=a[r]&&this.getRegexpReplace(o,a[r]),p=!!c&&t.trim(c);if(t.inArray(p,s)>-1||t(n).parent().contents().length>1){var h=t("<span>").html("{"+l+"}");this.setUID(h,"wbb");var f=o.indexOf(l)+l.length+1,g=o.substr(f,o.length-f);n.data=o.substr(0,o.indexOf(l)-1),t(n).after(this.elFromString(g,document)).after(h),p=(p?p+" ":"")+this.filterByNode(h),d=!1}m[l.toLowerCase()]={sel:p,attr:!1,rgx:d},s[s.length]=p}}),this)),s=null}),this));var f=d.html();l!=(f=this.unwrapAttrs(f))&&(delete s.transform[l],s.transform[f]=c,r=f)}e.rules[u].push([c,m]),!0===s.onlyClearText&&(this.cleartext||(this.cleartext={}),this.cleartext[u]=i[n]),s.groupkey&&(e.groups[s.groupkey]||(e.groups[s.groupkey]=[]),e.groups[s.groupkey].push(u))}}s.rootSelector&&this.sortArray(s.rootSelector,-1);var g=t.map(s.transform,(function(t,e){return e})).sort((function(t,e){return(e[0]||"").length-(t[0]||"").length}));s.bbcode=s.transform[g[0]],s.html=g[0]}}}for(var b in this.options.btnlist=i,t.extend(e.rules,this.options.customRules),e.srules={},this.options.smileList&&t.each(e.smileList,t.proxy((function(i,n){var s=t(this.strf(n.img,e)),o=this.filterByNode(s);e.srules[o]=[n.bbcode,n.img]}),this)),e.rules)this.options.rules[b].sort((function(t,e){return e[0].length-t[0].length}));for(var b in this.rsellist=[],this.options.rules)this.rsellist.push(b);this.sortArray(this.rsellist,-1)},build:function(){if(t.log("Build editor"),this.$editor=t("<div>").addClass("wysibb"),this.isMobile&&this.$editor.addClass("wysibb-mobile"),this.options.direction&&this.$editor.css("direction",this.options.direction),this.$editor.insertAfter(this.txtArea).append(this.txtArea),this.startHeight=this.$txtArea.outerHeight(),this.$txtArea.addClass("wysibb-texarea"),this.buildToolbar(),this.$txtArea.wrap('<div class="wysibb-text">'),!1===this.options.onlyBBmode){var e=this.options.minheight||this.$txtArea.outerHeight(),i=(this.options.resize_maxheight,!0===this.options.autoresize?this.options.resize_maxheight:e);if(this.$body=t(this.strf('<div class="wysibb-text-editor" style="max-height:{maxheight}px;min-height:{height}px"></div>',{maxheight:i,height:e})).insertAfter(this.$txtArea),this.body=this.$body[0],this.$txtArea.hide(),e>32&&this.$toolbar.css("max-height",e),t.log("WysiBB loaded"),this.$body.addClass("wysibb-body").addClass(this.options.bodyClass),this.options.direction&&this.$body.css("direction",this.options.direction),"contentEditable"in this.body){this.body.contentEditable=!0;try{document.execCommand("StyleWithCSS",!1,!1),this.$body.append("<span></span>")}catch(t){}}else this.options.onlyBBmode=this.options.bbmode=!0;this.txtArea.value.length>0&&this.txtAreaInitContent(),this.$body.bind("keydown",t.proxy((function(e){if(86==e.which&&(1==e.ctrlKey||1==e.metaKey)||45==e.which&&(1==e.shiftKey||1==e.metaKey))return this.$pasteBlock||(this.saveRange(),this.$pasteBlock=t(this.elFromString('<div style="opacity:0;" contenteditable="true">\ufeff</div>')),this.$pasteBlock.appendTo(this.body),setTimeout(t.proxy((function(){this.clearPaste(this.$pasteBlock);var e="<span>"+this.$pasteBlock.html()+"</span>";this.$body.attr("contentEditable","true"),this.$pasteBlock.blur().remove(),this.body.focus(),this.cleartext&&(t.log("Check if paste to clearText Block"),this.isInClearTextBlock()&&(e=this.toBB(e).replace(/\n/g,"<br/>").replace(/\s{3}/g,'<span class="wbbtab"></span>'))),e=e.replace(/\t/g,'<span class="wbbtab"></span>'),this.selectRange(this.lastRange),this.insertAtCursor(e,!1),this.lastRange=!1,this.$pasteBlock=!1}),this),1),this.selectNode(this.$pasteBlock[0])),!0}),this)),this.$body.bind("keydown",t.proxy((function(t){13==t.which&&(this.isContain(this.getSelectNode(),"li")||(t.preventDefault&&t.preventDefault(),this.checkForLastBR(this.getSelectNode()),this.insertAtCursor("<br/>",!1)))}),this)),!0===this.options.tabInsert&&this.$body.bind("keydown",t.proxy(this.pressTab,this)),this.$body.bind("mouseup keyup",t.proxy(this.updateUI,this)),this.$body.bind("mousedown",t.proxy((function(t){this.clearLastRange(),this.checkForLastBR(t.target)}),this)),!0===this.options.traceTextarea&&(t(document).bind("mousedown",t.proxy(this.traceTextareaEvent,this)),this.$txtArea.val("")),!0===this.options.hotkeys&&this.$body.bind("keydown",t.proxy(this.presskey,this)),!0===this.options.smileConversion&&this.$body.bind("keyup",t.proxy(this.smileConversion,this)),this.inited=!0,!0===this.options.autoresize&&(this.$bresize=t(this.elFromString('<div class="bottom-resize-line"></div>')).appendTo(this.$editor).wdrag({scope:this,axisY:!0,height:e})),this.imgListeners()}this.$txtArea.bind("mouseup keyup",t.proxy((function(){clearTimeout(this.uitimer),this.uitimer=setTimeout(t.proxy(this.updateUI,this),100)}),this)),!0===this.options.hotkeys&&t(document).bind("keydown",t.proxy(this.presskey,this))},buildToolbar:function(){if(!1===this.options.toolbar)return!1;var e;this.$toolbar=t("<div>").addClass("wysibb-toolbar").prependTo(this.$editor),t.each(this.options.buttons,t.proxy((function(i,n){var s=this.options.allButtons[n];0!=i&&"|"!=n&&"-"!=n||("-"==n&&this.$toolbar.append("<div>"),e=t('<div class="wysibb-toolbar-container">').appendTo(this.$toolbar)),s&&("colorpicker"==s.type?this.buildColorpicker(e,n,s):"table"==s.type?this.buildTablepicker(e,n,s):"select"==s.type?this.buildSelect(e,n,s):"smilebox"==s.type?this.buildSmilebox(e,n,s):this.buildButton(e,n,s))}),this)),this.$toolbar.find(".btn-tooltip").hover((function(){t(this).parent().css("overflow","hidden")}),(function(){t(this).parent().css("overflow","visible")}));var i=t(document.createElement("div")).addClass("wysibb-toolbar-container modeSwitch").html('<div class="wysibb-toolbar-btn mswitch" unselectable="on"><span class="btn-inner modesw" unselectable="on">[bbcode]</span></div>').appendTo(this.$toolbar);1==this.options.bbmode&&i.children(".wysibb-toolbar-btn").addClass("on"),!1===this.options.onlyBBmode&&i.children(".wysibb-toolbar-btn").click(t.proxy((function(e){t(e.currentTarget).toggleClass("on"),this.modeSwitch()}),this))},buildButton:function(e,n,s){"object"!=i(e)&&(e=this.$toolbar);var o=s.buttonHTML?t(this.strf(s.buttonHTML,this.options)).addClass("btn-inner"):this.strf('<span class="btn-inner btn-text">{text}</span>',{text:s.buttonText.replace(/</g,"&lt;")}),a=!0===this.options.hotkeys&&!0===this.options.showHotkeys&&s.hotkey?' <span class="tthotkey">['+s.hotkey+"]</span>":"",r=t('<div class="wysibb-toolbar-btn wbb-'+n+'">').appendTo(e).append(o).append(this.strf('<span class="btn-tooltip">{title}<ins/>{hotkey}</span>',{title:s.title,hotkey:a}));this.controllers.push(r),r.bind("queryState",t.proxy((function(e){this.queryState(n)?t(e.currentTarget).addClass("on"):t(e.currentTarget).removeClass("on")}),this)),r.mousedown(t.proxy((function(e){e.preventDefault(),this.execCommand(n,s.exvalue||!1),t(e.currentTarget).trigger("queryState")}),this))},buildColorpicker:function(e,i,n){var s=t('<div class="wysibb-toolbar-btn wbb-dropdown wbb-cp">').appendTo(e).append('<div class="ve-tlb-colorpick"><span class="fonticon"></span><span class="cp-line"></span></div><ins class="fonticon ar"></ins>').append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),o=s.find(".cp-line"),a=t('<div class="wbb-list">').appendTo(s);a.append('<div class="nc">'+CURLANG.auto+"</div>");for(var r=n.colors?n.colors.split(","):[],l=0;l<r.length;l++)r[l]=t.trim(r[l]),"-"==r[l]?a.append('<span class="pl"></span>'):a.append(this.strf('<div class="sc" style="background:{color}" title="{color}"></div>',{color:r[l]}));var c=t(document.body).css("color");this.controllers.push(s),s.bind("queryState",t.proxy((function(t){o.css("background-color",c);var e=this.queryState(i,!0);e&&(o.css("background-color",this.options.bbmode?e.color:e),s.find(".ve-tlb-colorpick span.fonticon").css("color",this.options.bbmode?e.color:e))}),this)),s.mousedown(t.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-cp",".wbb-list",t)}),this)),s.find(".sc").mousedown(t.proxy((function(e){e.preventDefault(),this.selectLastRange();var n=t(e.currentTarget).attr("title");this.execCommand(i,n),s.trigger("queryState")}),this)),s.find(".nc").mousedown(t.proxy((function(t){t.preventDefault(),this.selectLastRange(),this.execCommand(i,c),s.trigger("queryState")}),this)),s.mousedown((function(t){t.preventDefault&&t.preventDefault()}))},buildTablepicker:function(e,i,n){var s=t('<div class="wysibb-toolbar-btn wbb-dropdown wbb-tbl">').appendTo(e).append('<span class="btn-inner fonticon ve-tlb-table1"></span><ins class="fonticon ar"></ins>').append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),o=t('<div class="wbb-list">').appendTo(s),a=t("<div>").css({position:"relative","box-sizing":"border-box"}).appendTo(o),r=n.rows||10,l=n.cols||10,c=r*l;a.css("height",r*n.cellwidth+2+"px");for(var d=1;d<=l;d++)for(var u=1;u<=r;u++){var p='<div class="tbl-sel" style="width:'+100*d/l+"%;height:"+100*u/r+"%;z-index:"+--c+'" title="'+u+","+d+'"></div>';a.append(p)}s.find(".tbl-sel").mousedown(t.proxy((function(e){e.preventDefault();for(var i=t(e.currentTarget).attr("title").split(","),n=this.options.bbmode?"[table]":'<table class="wbb-table" cellspacing="5" cellpadding="0">',s=1;s<=i[0];s++){n+=this.options.bbmode?" [tr]\n":"<tr>";for(var o=1;o<=i[1];o++)n+=this.options.bbmode?"  [td][/td]\n":"<td>\ufeff</td>";n+=this.options.bbmode?"[/tr]\n":"</tr>"}n+=this.options.bbmode?"[/table]":"</table>",this.insertAtCursor(n)}),this)),s.mousedown(t.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-tbl",".wbb-list",t)}),this))},buildSelect:function(e,i,n){for(var s=t('<div class="wysibb-toolbar-btn wbb-select wbb-'+i+'">').appendTo(e).append(this.strf('<span class="val">{title}</span><ins class="fonticon sar"></ins>',n)).append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),o=t('<div class="wbb-list">').appendTo(s),a=s.find("span.val"),r=t.isArray(n.options)?n.options:n.options.split(","),l=this.isMobile?t("<select>").addClass("wbb-selectbox"):"",c=0;c<r.length;c++){var d=r[c];if("string"==typeof d){var u=this.options.allButtons[d];u&&(u.html?t("<span>").addClass("option").attr("oid",d).attr("cmdvalue",u.exvalue).appendTo(o).append(this.strf(u.html,{seltext:u.title})):o.append(this.strf('<span class="option" oid="'+d+'" cmdvalue="'+u.exvalue+'">{title}</span>',u)),this.isMobile&&l.append(t("<option>").attr("oid",d).attr("cmdvalue",u.exvalue).append(u.title)))}else{var p={seltext:d.title};p[n.valueBBname]=d.exvalue,t("<span>").addClass("option").attr("oid",i).attr("cmdvalue",d.exvalue).appendTo(o).append(this.strf(n.html,p)),this.isMobile&&l.append(t("<option>").attr("oid",i).attr("cmdvalue",d.exvalue).append(d.exvalue))}}this.isMobile&&(l.appendTo(e),this.controllers.push(l),l.bind("queryState",t.proxy((function(e){l.find("option").each(t.proxy((function(e,i){var n=t(i),s=this.queryState(n.attr("oid"),!0),o=n.attr("cmdvalue");if(o&&s==n.attr("cmdvalue")||!o&&s)return n.prop("selected",!0),!1}),this))}),this)),l.change(t.proxy((function(e){e.preventDefault();var i=t(e.currentTarget).find(":selected"),n=i.attr("oid"),s=i.attr("cmdvalue"),o=this.options.allButtons[n];this.execCommand(n,o.exvalue||s||!1),t(e.currentTarget).trigger("queryState")}),this))),this.controllers.push(s),s.bind("queryState",t.proxy((function(e){a.text(n.title),s.find(".option.selected").removeClass("selected"),s.find(".option").each(t.proxy((function(e,i){var n=t(i),s=this.queryState(n.attr("oid"),!0),o=n.attr("cmdvalue");if(o&&s==n.attr("cmdvalue")||!o&&s)return a.text(n.text()),n.addClass("selected"),!1}),this))}),this)),s.mousedown(t.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-select",".wbb-list",t)}),this)),s.find(".option").mousedown(t.proxy((function(e){e.preventDefault();var i=t(e.currentTarget).attr("oid"),n=t(e.currentTarget).attr("cmdvalue"),s=this.options.allButtons[i];this.execCommand(i,s.exvalue||n||!1),t(e.currentTarget).trigger("queryState")}),this))},buildSmilebox:function(e,i,n){if(this.options.smileList&&this.options.smileList.length>0){var s=t(this.strf(n.buttonHTML,n)).addClass("btn-inner"),o=t('<div class="wysibb-toolbar-btn wbb-smilebox wbb-'+i+'">').appendTo(e).append(s).append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),a=t('<div class="wbb-list">').appendTo(o);t.isArray(this.options.smileList)&&t.each(this.options.smileList,t.proxy((function(e,i){t("<span>").addClass("smile").appendTo(a).append(t(this.strf(i.img,this.options)).attr("title",i.title))}),this)),o.mousedown(t.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-smilebox",".wbb-list",t)}),this)),o.find(".smile").mousedown(t.proxy((function(e){e.preventDefault(),this.insertAtCursor(this.options.bbmode?this.toBB(t(e.currentTarget).html()):t(t(e.currentTarget).html()))}),this))}},updateUI:function(e){(!e||e.which>=8&&e.which<=46||e.which>90||"mouseup"==e.type)&&t.each(this.controllers,t.proxy((function(t,e){e.trigger("queryState")}),this)),this.disNonActiveButtons()},initModal:function(){this.$modal=t("#wbbmodal"),0==this.$modal.length&&(t.log("Init modal"),this.$modal=t("<div>").attr("id","wbbmodal").prependTo(document.body).html('<div class="wbbm"><div class="wbbm-title"><span class="wbbm-title-text"></span><span class="wbbclose" title="'+CURLANG.close+'">×</span></div><div class="wbbm-content"></div><div class="wbbm-bottom"><button id="wbbm-submit" class="wbb-button">'+CURLANG.save+'</button><button id="wbbm-cancel" class="wbb-cancel-button">'+CURLANG.cancel+'</button><button id="wbbm-remove" class="wbb-remove-button">'+CURLANG.remove+"</button></div></div>").hide(),this.$modal.find("#wbbm-cancel,.wbbclose").click(t.proxy(this.closeModal,this)),this.$modal.bind("click",t.proxy((function(e){0==t(e.target).parents(".wbbm").length&&this.closeModal()}),this)),t(document).bind("keydown",t.proxy(this.escModal,this)))},initHotkeys:function(){t.log("initHotkeys"),this.hotkeys=[];t.each(this.options.allButtons,t.proxy((function(e,i){if(i.hotkey){var n=i.hotkey.split("+");if(n&&n.length>=2){var s=0,o=n.pop();t.each(n,(function(e,i){switch(t.trim(i.toLowerCase())){case"ctrl":s+=1;break;case"shift":s+=4;break;case"alt":s+=7}})),s>0&&(this.hotkeys["m"+s]||(this.hotkeys["m"+s]=[]),this.hotkeys["m"+s]["k"+("0123456789       abcdefghijklmnopqrstuvwxyz".indexOf(o)+48)]=e)}}}),this))},presskey:function(t){if(1==t.ctrlKey||1==t.shiftKey||1==t.altKey){var e=(1==t.ctrlKey?1:0)+(1==t.shiftKey?4:0)+(1==t.altKey?7:0);if(this.hotkeys["m"+e]&&this.hotkeys["m"+e]["k"+t.which])return this.execCommand(this.hotkeys["m"+e]["k"+t.which],!1),t.preventDefault(),!1}},execCommand:function(e,i){t.log("execCommand: "+e);var n=this.options.allButtons[e];if(!0!==n.en)return!1;var s=this.queryState(e,i),o=this.isInClearTextBlock();if(!o||o==e){if(n.excmd)if(this.options.bbmode)if(t.log("Native command in bbmode: "+e),s&&1!=n.subInsert)this.wbbRemoveCallback(e,i);else{var a={};n.valueBBname&&i&&(a[n.valueBBname]=i),this.insertAtCursor(this.getBBCodeByCommand(e,a))}else this.execNativeCommand(n.excmd,i||!1);else n.cmd?n.cmd.call(this,e,i,s):this.wbbExecCommand.call(this,e,i,s);this.updateUI()}},queryState:function(e,i){var n=this.options.allButtons[e];if(!0!==n.en)return!1;if(this.options.bbmode){if(n.bbSelector)for(var s=0;s<n.bbSelector.length;s++){var o=this.isBBContain(n.bbSelector[s]);if(o)return this.getParams(o,n.bbSelector[s],o[1])}return!1}if(!n.excmd){if(t.isArray(n.rootSelector))for(s=0;s<n.rootSelector.length;s++){var a=this.isContain(this.getSelectNode(),n.rootSelector[s]);if(a)return this.getParams(a,n.rootSelector[s])}return!1}if(i)try{var r=(document.queryCommandValue(n.excmd)+"").replace(/\'/g,"");return"foreColor"==n.excmd&&(r=this.rgbToHex(r)),r}catch(t){return!1}else try{return("bold"!=n.excmd&&"italic"!=n.excmd&&"underline"!=n.excmd&&"strikeThrough"!=n.excmd||!t(this.getSelectNode()).is("img"))&&(!("underline"==n.excmd&&t(this.getSelectNode()).closest("a").length>0)&&document.queryCommandState(n.excmd))}catch(t){return!1}},wbbExecCommand:function(e,i,n){t.log("wbbExecCommand");var s=this.options.allButtons[e];if(s)if(s.modal)t.isFunction(s.modal)?s.modal.call(this,e,s.modal,n):this.showModal.call(this,e,s.modal,n);else if(n&&1!=s.subInsert)this.wbbRemoveCallback(e);else{if(s.groupkey){var o=this.options.groups[s.groupkey];if(o){var a=this.getSelectNode();t.each(o,t.proxy((function(e,i){var n=this.isContain(a,i);if(n){var s=t("<span>").html(n.innerHTML),o=this.setUID(s);return t(n).replaceWith(s),this.selectNode(this.$editor.find("#"+o)[0]),!1}}),this))}}this.wbbInsertCallback(e,i)}},wbbInsertCallback:function(e,n){"object"!=i(n)&&(n={}),t.log("wbbInsertCallback: "+e);var s=this.getCodeByCommand(e,n);if(this.insertAtCursor(s),this.seltextID&&-1!=s.indexOf(this.seltextID)){var o=this.$body.find("#"+this.seltextID)[0];this.selectNode(o),t(o).removeAttr("id"),this.seltextID=!1}},wbbRemoveCallback:function(e,i){t.log("wbbRemoveCallback: "+e);var n=this.options.allButtons[e];if(this.options.bbmode){this.getCursorPosBB();var s=0;t.each(n.bbSelector,t.proxy((function(e,n){var o=n.match(/\{[\s\S]+?\}/g);t.each(o,(function(t,e){if("{seltext}"==e.toLowerCase())return s=t,!1}));var a=this.isBBContain(n);if(a)return this.txtArea.value=this.txtArea.value.substr(0,a[1])+this.txtArea.value.substr(a[1],this.txtArea.value.length-a[1]).replace(a[0][0],!0===i?"":a[0][s+1]),this.setCursorPosBB(a[1]),!1}),this))}else{var o=this.getSelectNode();t.each(n.rootSelector,t.proxy((function(s,a){var r=this.isContain(o,a);if(!r)return!0;var l=t(r),c=this.options.rules[a][0][1];if(l.is("span[wbb]")||!l.is("span,font")){if(!0!==i&&c&&c.seltext)if(c&&c.seltext&&c.seltext.sel){var d=l.find(c.seltext.sel).html();!0===n.onlyClearText&&(d=(d=this.getHTML(d,!0,!0)).replace(/\&#123;/g,"{").replace(/\&#125;/g,"}")),l.replaceWith(d)}else{d=l.html();!0===n.onlyClearText&&(d=(d=this.getHTML(d,!0)).replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&#123;/g,"{").replace(/\&#125;/g,"}")),l.replaceWith(d)}else this.setCursorByEl(l),l.remove();return!1}var u=this.getRange(),p=this.getSelectText();this.getSelectNode();p=""==p?"\ufeff":this.clearFromSubInsert(p,e);var h=this.elFromString(p),m=window.getSelection?u.cloneRange():this.body.createTextRange(),f=window.getSelection?u.cloneRange():this.body.createTextRange();if(window.getSelection){this.insertAtCursor('<span id="wbbdivide"></span>');var g=l.find("span#wbbdivide").get(0);m.setStart(r.firstChild,0),m.setEndBefore(g),f.setStartAfter(g),f.setEndAfter(r.lastChild)}else m.moveToElementText(r),f.moveToElementText(r),m.setEndPoint("EndToStart",u),f.setEndPoint("StartToEnd",u);var b=this.getSelectText(!1,m),v=this.getSelectText(!1,f);if(""!=v){var y=l.clone().html(v);l.after(y)}return!0!==i&&l.after(h),window.getSelection?(l.html(b),!0!==i&&this.selectNode(h)):l.replaceWith(b),!1}),this))}},execNativeCommand:function(e,i){if(this.body.focus(),"insertHTML"!=e||window.getSelection)if("insertHTML"==e){var n=this.getSelection(),s=this.elFromString(i),o=this.lastRange?this.lastRange:this.getRange();o.deleteContents(),o.insertNode(s),o.collapse(!1),n.removeAllRanges(),n.addRange(o)}else void 0===i&&(i=!1),this.lastRange&&(t.log("Last range select"),this.selectLastRange()),document.execCommand(e,!1,i);else{var a=this.lastRange?this.lastRange:document.selection.createRange();a.pasteHTML(i);var r=t("<div>").html(i).text(),l=r.indexOf("\ufeff");l>-1&&(a.moveStart("character",-1*(r.length-l)),a.select()),this.lastRange=!1}},getCodeByCommand:function(t,e){return this.options.bbmode?this.getBBCodeByCommand(t,e):this.getHTMLByCommand(t,e)},getBBCodeByCommand:function(e,i){if(!this.options.allButtons[e])return"";void 0===i&&(i={}),(i=this.keysToLower(i)).seltext||(i.seltext=this.getSelectText(!0));var n=this.options.allButtons[e].bbcode;n=n.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,n){var s;if(n&&(n&&(s=new RegExp(n+"+","i")),void 0!==i[e.toLowerCase()]&&null===i[e.toLowerCase()].toString().match(s)))return"";return void 0===i[e.toLowerCase()]?"":i[e.toLowerCase()]}));var s=null,o=0;if(this.options.allButtons[e].transform){var a=[];t.each(this.options.allButtons[e].transform,(function(t,e){a.push(e)})),a=this.sortArray(a,-1),t.each(a,(function(t,e){var n=!0,a=0,r={};e=e.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,s){var o;return e=e.toLowerCase(),s&&(o=new RegExp(s+"+","i")),(void 0===i[e.toLowerCase()]||s&&null===i[e.toLowerCase()].toString().match(o))&&(n=!1),void 0===i[e]||r[e]||(r[e]=1,a++),void 0===i[e.toLowerCase()]?"":i[e.toLowerCase()]})),n&&a>o&&(s=e,o=a)}))}return s||n},getHTMLByCommand:function(e,i){if(!this.options.allButtons[e])return"";void 0===(i=this.keysToLower(i))&&(i={}),i.seltext||(i.seltext=this.getSelectText(!1),""==i.seltext?i.seltext="\ufeff":(i.seltext=this.clearFromSubInsert(i.seltext,e),!0===this.options.allButtons[e].onlyClearText&&(i.seltext=this.toBB(i.seltext).replace(/\</g,"&lt;").replace(/\n/g,"<br/>").replace(/\s{3}/g,'<span class="wbbtab"></span>'))));var n="";this.seltextID="wbbid_"+ ++this.lastid,"link"!=e&&"img"!=e?i.seltext='<span id="'+this.seltextID+'">'+i.seltext+"</span>":n='<span id="'+this.seltextID+'">\ufeff</span>';var s=this.options.allButtons[e].html;s=s.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,n){if(n){var s=new RegExp(n+"+","i");if(void 0!==i[e.toLowerCase()]&&null===i[e.toLowerCase()].toString().match(s))return""}return void 0===i[e.toLowerCase()]?"":i[e.toLowerCase()]}));var o=null,a=0;if(this.options.allButtons[e].transform){var r=[];t.each(this.options.allButtons[e].transform,(function(t,e){r.push(t)})),r=this.sortArray(r,-1),t.each(r,(function(t,e){var n=!0,s=0,r={};e=e.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,o){var a;return e=e.toLowerCase(),o&&(a=new RegExp(o+"+","i")),(void 0===i[e]||o&&null===i[e].toString().match(a))&&(n=!1),void 0===i[e]||r[e]||(r[e]=1,s++),void 0===i[e]?"":i[e]})),n&&s>a&&(o=e,a=s)}))}return(o||s)+n},getSelection:function(){return window.getSelection?window.getSelection():document.selection?(this.options.bbmode,document.selection.createRange()):void 0},getSelectText:function(e,i){if(e){if(this.txtArea.focus(),"selectionStart"in this.txtArea){var n=this.txtArea.selectionEnd-this.txtArea.selectionStart;return this.txtArea.value.substr(this.txtArea.selectionStart,n)}return document.selection.createRange().text}return this.body.focus(),i||(i=this.getRange()),window.getSelection?i?t("<div>").append(i.cloneContents()).html():"":i.htmlText},getRange:function(){if(!window.getSelection)return this.options.bbmode,document.selection.createRange();var t=this.getSelection();if(t.getRangeAt&&t.rangeCount>0)return t.getRangeAt(0);if(t.anchorNode){var e=(this.options.bbmode,document.createRange());return e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset),e}},insertAtCursor:function(e,i){if("string"!=typeof e&&(e=t("<div>").append(e).html()),this.options.bbmode&&void 0===i||!0===i){var n=e.replace(/.*(\[\/\S+?\])$/,"$1"),s=this.getCursorPosBB()+(-1!=e.indexOf(n)&&e.match(/\[.*\]/)?e.indexOf(n):e.length);document.selection?(this.txtArea.focus(),this.getSelection().text=e):(this.txtArea.selectionStart||"0"==this.txtArea.selectionStart)&&(this.txtArea.value=this.txtArea.value.substring(0,this.txtArea.selectionStart)+e+this.txtArea.value.substring(this.txtArea.selectionEnd,this.txtArea.value.length)),s<0&&(s=0),this.setCursorPosBB(s)}else{this.execNativeCommand("insertHTML",e);var o=this.getSelectNode();t(o).closest("table,tr,td")||this.splitPrevNext(o)}},getSelectNode:function(e){if(this.body.focus(),e||(e=this.getRange()),!e)return this.$body;var i=window.getSelection?e.commonAncestorContainer:e.parentElement();return t(i).is(".imgWrap")&&(i=t(i).children("img")[0]),i},getCursorPosBB:function(){var t=0;if("selectionStart"in this.txtArea)t=this.txtArea.selectionStart;else{this.txtArea.focus();var e=this.getRange(),i=document.body.createTextRange();i.moveToElementText(this.txtArea),i.setEndPoint("EndToStart",e),t=i.text.length}return t},setCursorPosBB:function(t){if(this.options.bbmode)if(window.getSelection)this.txtArea.selectionStart=t,this.txtArea.selectionEnd=t;else{var e=this.txtArea.createTextRange();e.collapse(!0),e.move("character",t),e.select()}},selectNode:function(t,e){if(e||(e=this.getRange()),e)if(window.getSelection){var i=this.getSelection();e.selectNodeContents(t),i.removeAllRanges(),i.addRange(e)}else e.moveToElementText(t),e.select()},selectRange:function(t){if(t)if(window.getSelection){var e=this.getSelection();e.removeAllRanges(),e.addRange(t)}else t.select()},cloneRange:function(t){if(t)return window.getSelection?t.cloneRange():t.duplicate()},getRangeClone:function(){return this.cloneRange(this.getRange())},saveRange:function(){this.setBodyFocus(),this.lastRange=this.getRangeClone()},selectLastRange:function(){this.lastRange&&(this.body.focus(),this.selectRange(this.lastRange),this.lastRange=!1)},setBodyFocus:function(){t.log("Set focus to WysiBB editor"),this.options.bbmode?this.$txtArea.is(":focus")||this.$txtArea.focus():this.$body.is(":focus")||this.$body.focus()},clearLastRange:function(){this.lastRange=!1},filterByNode:function(e){var i=t(e),n=i.get(0).tagName.toLowerCase(),s=this.getAttributeList(i.get(0));return t.each(s,t.proxy((function(e,s){var o=i.attr(s);if("_"==s.substr(0,1)&&(s=s.substr(1,s.length)),o&&!o.match(/\{.*?\}/))if("style"==s){var a=(o=i.attr(s)).split(";");t.each(a,(function(e,i){i&&i.length>0&&(n+="["+s+'*="'+t.trim(i)+'"]')}))}else n+="["+s+'="'+o+'"]';else if(o&&"style"==s){var r=o.substr(0,o.indexOf("{"));if(r&&""!=r){a=(o=o.substr(0,o.indexOf("{"))).split(";");t.each(a,(function(t,e){n+="["+s+'*="'+e+'"]'}))}}else n+="["+s+"]"}),this)),i.parent().children(n).index(i)>0&&(n+=":eq("+i.index()+")"),n},relFilterByNode:function(e,i){var n="";for(t.each(this.options.attrWrap,(function(t,e){i=i.replace("["+e,"[_"+e)}));e&&"BODY"!=e.tagName&&!t(e).is(i);)n=this.filterByNode(e)+" "+n,e&&(e=e.parentNode);return n},getRegexpReplace:function(t,e){return t=t.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\)/g,"\\$1").replace(/\s+/g,"\\s+").replace(e.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\)/g,"\\$1"),"(.+)").replace(/\{\S+?\}/g,".*")},getBBCode:function(){return this.options.rules?this.options.bbmode?this.$txtArea.val():(this.clearEmpty(),this.removeLastBodyBR(),this.toBB(this.$body.html())):this.$txtArea.val()},toBB:function(e){if(!e)return"";var i="string"==typeof e?t("<span>").html(e):t(e);i.find("div,blockquote,p").each((function(){3!=this.nodeType&&this.lastChild&&"BR"==this.lastChild.tagName&&t(this.lastChild).remove()})),i.is("div,blockquote,p")&&3!=i[0].nodeType&&i[0].lastChild&&"BR"==i[0].lastChild.tagName&&t(i[0].lastChild).remove(),i.find("ul > br, table > br, tr > br").remove();var n="";return t.each(this.options.srules,t.proxy((function(t,e){i.find(t).replaceWith(e[0])}),this)),i.contents().each(t.proxy((function(e,i){var s=t(i);if(3===i.nodeType)n+=i.data.replace(/\n+/,"").replace(/\t/g,"   ");else{for(var o=0;o<this.rsellist.length;o++){var a=this.rsellist[o];if(s&&s.is(a)){var r=this.options.rules[a];for(e=0;e<r.length;e++){var l=r[e][0],c=r[e][1],d=!1,u=!1;if(s.is("br")||(l=l.replace(/\n/g,"<br>")),l=l.replace(/\{(.*?)(\[.*?\])*\}/g,t.proxy((function(e,n,o){var a=c[n.toLowerCase()];void 0===a&&(t.log("Param: {"+n+"} not found in HTML representation."),d=!0);var r=a.sel?t(i).find(a.sel):t(i);if(a.attr&&!r.attr(a.attr))return d=!0,n;var l=a.attr?r.attr(a.attr):r.html();if(void 0===l||null==l)return d=!0,n;var p=a.rgx;p&&"style"==a.attr&&";"!=p.substr(p.length-1,1)&&(p+=";"),"style"==a.attr&&l&&";"!=l.substr(l.length-1,1)&&(l+=";");var h=!!p&&new RegExp(p,"");if(h)if(l.match(h)){var m=l.match(h);m&&2==m.length&&(l=m[1])}else l="";if(a.attr&&!1===d)if("style"==a.attr){u=!0;var f="",g=a.rgx.replace(/^\.\*\?/,"").replace(/\.\*$/,"").replace(/;$/,"");t(r.attr("style").split(";")).each((function(t,e){e&&""!=e&&(e.match(g)||(f+=e+";"))})),""==f?r.removeAttr("style"):r.attr("style",f)}else!1===a.rgx&&(u=!0,!0,r.removeAttr(a.attr));return s.is("table,tr,td,font")&&(u=!0),l||""}),this)),!d){if(s.is("img,br,hr")){n+=l,s=null;break}if(!u||s.attr("notkeep")){s.is("iframe")?n+=l:(s.empty().html(l),n+=this.toBB(s),s=null);break}s.is("table,tr,td")?(l=this.fixTableTransform(l),n+=this.toBB(t("<span>").html(l)),s=null):s.empty().html("<span>"+l+"</span>")}}}}if(!s||s.is("iframe,img"))return!0;n+=this.toBB(s)}}),this)),n.replace(/\uFEFF/g,""),n},getHTML:function(e,i,n){if(!this.options.bbmode&&!i)return this.$body.html();n||(e=e.replace(/</g,"&lt;").replace(/\{/g,"&#123;").replace(/\}/g,"&#125;")),e=e.replace(/\[code\]([\s\S]*?)\[\/code\]/g,(function(t){return"[code]"+(t=t.substr("[code]".length,t.length-"[code]".length-"[/code]".length).replace(/\[/g,"&#91;").replace(/\]/g,"&#93;"))+"[/code]"})),t.each(this.options.btnlist,t.proxy((function(i,n){if("|"!=n&&"-"!=n){if(!this.options.allButtons[n]||!this.options.allButtons[n].transform)return!0;t.each(this.options.allButtons[n].transform,t.proxy((function(i,n){i=i.replace(/\n/g,"");var s=[];n=(n=n.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1")).replace(/\{(.*?)(\\\[.*?\\\])*\}/gi,t.proxy((function(t,e,i){return s.push(e),i?"("+(i=i.replace(/\\/g,""))+"*?)":"([\\s\\S]*?)"}),this));for(var o;null!=(o=new RegExp(n,"mgi").exec(e));)if(o){var a={};t.each(s,t.proxy((function(t,e){a[e]=o[t+1]}),this));var r=i;r=r.replace(/\{(.*?)(\[.*?\])\}/g,"{$1}"),r=this.strf(r,a),e=e.replace(o[0],r)}}),this))}}),this)),t.each(this.options.systr,(function(t,i){i=i.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1").replace(" ","\\s"),e=e.replace(new RegExp(i,"g"),t)}));var s=t(this.elFromString("<div>"+e+"</div>"));return this.getHTMLSmiles(s),s.html()},getHTMLSmiles:function(e){t(e).contents().filter((function(){return 3==this.nodeType})).each(t.proxy(this.smileRPL,this))},smileRPL:function(e,i){var n=i.data;t.each(this.options.smileList,t.proxy((function(e,s){var o=n.indexOf(s.bbcode);if(-1!=o){var a=n.substring(o+s.bbcode.length,n.length),r=document.createTextNode(a);return i.data=n=i.data.substr(0,o),t(i).after(r).after(this.strf(s.img,this.options)),this.getHTMLSmiles(i.parentNode),!1}this.getHTMLSmiles(i)}),this))},setUID:function(e,i){var n="wbbid_"+ ++this.lastid;return e&&t(e).attr(i||"id",n),n},keysToLower:function(e){return t.each(e,(function(t,i){t!=t.toLowerCase()&&(delete e[t],e[t.toLowerCase()]=i)})),e},strf:function(e,i){return i=this.keysToLower(t.extend({},i)),e.replace(/\{([\w\.]*)\}/g,(function(e,n){var s=(n=n.toLowerCase()).split("."),o=i[s.shift().toLowerCase()];return t.each(s,(function(){o=o[this]})),null==o?"":o}))},elFromString:function(e){if(-1!=e.indexOf("<")&&-1!=e.indexOf(">")){var i=document.createElement("SPAN");return t(i).html(e),this.setUID(i,"wbb"),t(i).contents().length>1?i:i.firstChild}return document.createTextNode(e)},isContain:function(e,i){for(;e&&!t(e).hasClass("wysibb");){if(t(e).is(i))return e;if(!e)return null;e=e.parentNode}},isBBContain:function(t){for(var e,i=this.getCursorPosBB(),n=this.prepareRGX(t),s=new RegExp(n,"g"),o=0;null!=(e=s.exec(this.txtArea.value));){var a=this.txtArea.value.indexOf(e[0],o);if(i>a&&i<a+e[0].length)return[e,a];o=a+1}},prepareRGX:function(t){return t.replace(/(\[|\]|\)|\(|\.|\*|\?|\:|\||\\)/g,"\\$1").replace(/\{.*?\}/g,"([\\s\\S]*?)")},checkForLastBR:function(e){e||(i=this.body),3==e.nodeType&&(e=e.parentNode);var i=t(e);if(i.is("span[id*='wbbid']")&&(i=i.parent()),!1===this.options.bbmode&&i.is("div,blockquote,code")&&i.contents().length>0){var n=i[0].lastChild;(!n||n&&"BR"!=n.tagName)&&i.append("<br/>")}this.$body.contents().length>0&&"BR"!=this.body.lastChild.tagName&&this.$body.append("<br/>")},getAttributeList:function(e){var i=[];return t.each(e.attributes,(function(t,e){e.specified&&i.push(e.name)})),i},clearFromSubInsert:function(e,i){if(this.options.allButtons[i]&&this.options.allButtons[i].rootSelector){var n=t("<div>").html(e);return t.each(this.options.allButtons[i].rootSelector,t.proxy((function(e,i){var s=!1;void 0!==this.options.rules[i][0][1].seltext&&(s=this.options.rules[i][0][1].seltext.sel);var o=!0;return n.find("*").each((function(){t(this).is(i)&&(s&&s.sel?t(this).replaceWith(t(this).find(s.sel.toLowerCase()).html()):t(this).replaceWith(t(this).html()),o=!1)})),o}),this)),n.html()}return e},splitPrevNext:function(e){3==e.nodeType&&(e=e.parentNode);var i=this.filterByNode(e).replace(/\:eq.*$/g,"");t(e.nextSibling).is(i)&&(t(e).append(t(e.nextSibling).html()),t(e.nextSibling).remove()),t(e.previousSibling).is(i)&&(t(e).prepend(t(e.previousSibling).html()),t(e.previousSibling).remove())},modeSwitch:function(){this.options.bbmode?(this.$body.html(this.getHTML(this.$txtArea.val())),this.$txtArea.hide().removeAttr("wbbsync").val(""),this.$body.css("min-height",this.$txtArea.height()).show().focus()):(this.$txtArea.val(this.getBBCode()).css("min-height",this.$body.height()),this.$body.hide(),this.$txtArea.show().focus()),this.options.bbmode=!this.options.bbmode},clearEmpty:function(){this.$body.children().filter((function e(){if(!t(this).is("span,font,a,b,i,u,s"))return!1;if(!t(this).hasClass("wbbtab")&&0==t.trim(t(this).html()).length)return!0;if(t(this).children().length>0&&(t(this).children().filter(e).remove(),0==t(this).html().length&&"BODY"!=this.tagName))return!0})).remove()},dropdownclick:function(e,i,n){var s=t(n.currentTarget).closest(e);s.hasClass("dis")||(s.attr("wbbshow")?(s.removeAttr("wbbshow"),t(document).unbind("mousedown",this.dropdownhandler),document&&t(document).unbind("mousedown",this.dropdownhandler),this.lastRange=!1):(this.saveRange(),this.$editor.find("*[wbbshow]").each((function(e,i){t(i).removeClass("on").find(t(i).attr("wbbshow")).hide().end().removeAttr("wbbshow")})),s.attr("wbbshow",i),t(document.body).bind("mousedown",t.proxy((function(t){this.dropdownhandler(s,e,i,t)}),this)),this.$body&&this.$body.bind("mousedown",t.proxy((function(t){this.dropdownhandler(s,e,i,t)}),this))),s.find(i).toggle(),s.toggleClass("on"))},dropdownhandler:function(e,i,n,s){0==t(s.target).parents(i).length&&(e.removeClass("on").find(n).hide(),t(document).unbind("mousedown",this.dropdownhandler),this.$body&&this.$body.unbind("mousedown",this.dropdownhandler))},rgbToHex:function(t){if("#"==t.substr(0,1))return t;if(-1==t.indexOf("rgb")){var e=parseInt(t);return"#"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)}var i=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/.exec(t);return"#"+this.dec2hex(parseInt(i[2]))+this.dec2hex(parseInt(i[3]))+this.dec2hex(parseInt(i[4]))},dec2hex:function(t){return t>15?t.toString(16):"0"+t.toString(16)},sync:function(){this.options.bbmode?this.$body.html(this.getHTML(this.txtArea.value,!0)):this.$txtArea.attr("wbbsync",1).val(this.getBBCode())},clearPaste:function(e){var i=t(e);t.each(this.options.rules,t.proxy((function(e,n){var s=i.find(e).attr("wbbkeep",1);if(s.length>0){var o=n[0][1];t.each(o,(function(t,e){e.sel&&s.find(e.sel).attr("wbbkeep",1)}))}}),this)),i.find("*[wbbkeep!='1']").each(t.proxy((function(e,i){var n=t(i);!n.is("div,p")||0!=n.children().length&&"BR"==i.lastChild.tagName||n.after("<br/>")}),this)),i.find("*[wbbkeep]").removeAttr("wbbkeep").removeAttr("style"),t.log(i.html()),i.html(this.getHTML(this.toBB(i),!0)),t.log(i.html())},sortArray:function(t,e){return t.sort((function(t,i){return(t.length-i.length)*(e||1)})),t},smileFind:function(){if(this.options.smilefind){var e=t(this.options.smilefind).find("img[alt]");e.length>0&&(this.options.smileList=[],e.each(t.proxy((function(e,i){var n=t(i);this.options.smileList.push({title:n.attr("title"),bbcode:n.attr("alt"),img:n.removeAttr("alt").removeAttr("title")[0].outerHTML})}),this)))}},destroy:function(){this.$editor.replaceWith(this.$txtArea),this.$txtArea.removeClass("wysibb-texarea").show(),this.$modal.remove(),this.$txtArea.data("wbb",null)},pressTab:function(t){t&&9==t.which&&(t.preventDefault&&t.preventDefault(),this.options.bbmode?this.insertAtCursor("   ",!1):this.insertAtCursor('<span class="wbbtab">\ufeff</span>',!1))},removeLastBodyBR:function(){this.body.lastChild&&3!=this.body.lastChild.nodeType&&"BR"==this.body.lastChild.tagName&&(this.body.removeChild(this.body.lastChild),this.removeLastBodyBR())},traceTextareaEvent:function(e){0==t(e.target).closest("div.wysibb").length&&(t(document.activeElement).is("div.wysibb-body")&&this.saveRange(),setTimeout(t.proxy((function(){var i=this.$txtArea.val();!1!==this.options.bbmode||""==i||0!=t(e.target).closest("div.wysibb").length||this.$txtArea.attr("wbbsync")||(this.selectLastRange(),this.insertAtCursor(this.getHTML(i,!0)),this.$txtArea.val("")),t(document.activeElement).is("div.wysibb-body")&&(this.lastRange=!1)}),this),100))},txtAreaInitContent:function(){this.$body.html(this.getHTML(this.txtArea.value,!0))},getValidationRGX:function(t){return t.match(/\[\S+\]/)?t.replace(/.*(\\*\[\S+\]).*/,"$1"):""},smileConversion:function(){if(this.options.smileList&&this.options.smileList.length>0){var e=this.getSelectNode();if(3==e.nodeType){var i=e.data;i.length>=2&&!this.isInClearTextBlock(e)&&0==t(e).parents("a").length&&t.each(this.options.srules,t.proxy((function(n,s){var o=s[0],a=i.indexOf(o);if(-1!=a){var r=i.substring(a+o.length,i.length),l=document.createTextNode(r),c=document.createElement("SPAN");return e.data=e.data.substr(0,a),t(e).after(l).after(c).after(this.strf(s[1],this.options)),this.selectNode(c),!1}}),this))}}},isInClearTextBlock:function(){if(this.cleartext){var e=!1;return t.each(this.cleartext,t.proxy((function(t,i){if(this.queryState(i))return e=i,!1}),this)),e}return!1},wrapAttrs:function(e){return t.each(this.options.attrWrap,(function(t,i){e=e.replace(i+'="',"_"+i+'="')})),e},unwrapAttrs:function(e){return t.each(this.options.attrWrap,(function(t,i){e=e.replace("_"+i+'="',i+'="')})),e},disNonActiveButtons:function(){this.isInClearTextBlock()?this.$toolbar.find(".wysibb-toolbar-btn:not(.on,.mswitch)").addClass("dis"):this.$toolbar.find(".wysibb-toolbar-btn.dis").removeClass("dis")},setCursorByEl:function(e){var i=document.createTextNode("\ufeff");t(e).after(i),this.selectNode(i)},imgListeners:function(){t(document).on("mousedown",t.proxy(this.imgEventHandler,this))},imgEventHandler:function(e){var i=t(e.target);this.hasWrapedImage&&(0==i.closest(".wbb-img,#wbbmodal").length||i.hasClass("wbb-cancel-button"))&&(this.$body.find(".imgWrap ").each((function(){t.log("Removed imgWrap block"),t(this).replaceWith(t(this).find("img"))})),this.hasWrapedImage=!1,this.updateUI()),i.is("img")&&i.closest(".wysibb-body").length>0&&(i.wrap("<span class='imgWrap'></span>"),this.hasWrapedImage=i,this.$body.focus(),this.selectNode(i.parent()[0]))},showModal:function(e,i,n){t.log("showModal: "+e),this.saveRange();var s=this.$modal.find(".wbbm-content").html(""),o=this.$modal.find(".wbbm").removeClass("hastabs");if(this.$modal.find("span.wbbm-title-text").html(i.title),i.tabs&&i.tabs.length>1){o.addClass("hastabs");var a=t('<div class="wbbm-tablist">').appendTo(s).append("<ul>").children("ul");t.each(i.tabs,t.proxy((function(t,e){0==t&&(e.on="on"),a.append(this.strf("<li class=\"{on}\" onClick=\"$(this).parent().find('.on').removeClass('on');$(this).addClass('on');$(this).parents('.wbbm-content').find('.tab-cont').hide();$(this).parents('.wbbm-content').find('.tab"+t+"').show()\">{title}</li>",e))}),this))}i.width&&o.css("width",i.width);var r=t('<div class="wbbm-cont">').appendTo(s);n?o.find("#wbbm-remove").show():o.find("#wbbm-remove").hide(),t.each(i.tabs,t.proxy((function(e,i){var s=t("<div>").addClass("tab-cont tab"+e).attr("tid",e).appendTo(r);e>0&&s.hide(),i.html?s.html(this.strf(i.html,this.options)):t.each(i.input,t.proxy((function(e,i){i.value=n[i.param.toLowerCase()],"seltext"!=i.param.toLowerCase()||i.value&&""!=i.value||(i.value=this.getSelectText(this.options.bbmode)),i.value&&0==i.value.indexOf("<span id='wbbid")&&t(i.value).is("span[id*='wbbid']")&&(i.value=t(i.value).html()),i.type&&"div"==i.type?s.append(this.strf('<div class="wbbm-inp-row"><label>{title}</label><div class="inp-text div-modal-text" contenteditable="true" name="{param}">{value}</div></div>',i)):s.append(this.strf('<div class="wbbm-inp-row"><label>{title}</label><input class="inp-text modal-text" type="text" name="{param}" value="{value}"/></div>',i))}),this))}),this)),t.isFunction(i.onLoad)&&i.onLoad.call(this,e,i,n),o.find("#wbbm-submit").click(t.proxy((function(){if(t.isFunction(i.onSubmit)&&!1===i.onSubmit.call(this,e,i,n))return;var s={},o=!0;this.$modal.find(".wbbm-inperr").remove(),this.$modal.find(".wbbm-brdred").removeClass("wbbm-brdred"),t.each(this.$modal.find(".tab-cont:visible .inp-text"),t.proxy((function(e,n){var a=t(n).parents(".tab-cont").attr("tid"),r=t(n).attr("name").toLowerCase(),l="";l=t(n).is("input,textrea,select")?t(n).val():t(n).html();var c=i.tabs[a].input[e].validation;void 0!==c&&(l.match(new RegExp(c,"i"))||(o=!1,t(n).after('<span class="wbbm-inperr">'+CURLANG.validation_err+"</span>").addClass("wbbm-brdred"))),s[r]=l}),this)),o&&(t.log("Last range: "+this.lastRange),this.selectLastRange(),n&&this.wbbRemoveCallback(e,!0),this.wbbInsertCallback(e,s),this.closeModal(),this.updateUI())}),this)),o.find("#wbbm-remove").click(t.proxy((function(){this.selectLastRange(),this.wbbRemoveCallback(e),this.closeModal(),this.updateUI()}),this)),t(document.body).css("overflow","hidden"),t("body").height()>t(window).height()&&t(document.body).css("padding-right","18px"),this.$modal.show(),this.isMobile?o.css("margin-top","10px"):o.css("margin-top",(t(window).height()-o.outerHeight())/3+"px"),setTimeout(t.proxy((function(){this.$modal.find(".inp-text:visible")[0].focus()}),this),10)},escModal:function(t){27==t.which&&this.closeModal()},closeModal:function(){return t(document.body).css("overflow","auto").css("padding-right","0").unbind("keyup",this.escModal),this.$modal.find("#wbbm-submit,#wbbm-remove").unbind("click"),this.$modal.hide(),this.lastRange=!1,this},getParams:function(e,i,n){var s={};if(this.options.bbmode){var o=i.match(/\{[\s\S]+?\}/g);i=this.prepareRGX(i);var a=new RegExp(i,"g"),r=this.txtArea.value;n>0&&(r=r.substr(n,r.length-n));var l=a.exec(r);l&&t.each(o,(function(t,e){s[e.replace(/\{|\}/g,"").replace(/"/g,"'").toLowerCase()]=l[t+1]}))}else{var c=this.options.rules[i][0][1];t.each(c,t.proxy((function(i,n){var o="",a=!1!==n.sel?o=t(e).find(n.sel):t(e);if(o=!1!==n.attr?a.attr(n.attr):a.html()){if(!1!==n.rgx){var r=o.match(new RegExp(n.rgx));r&&2==r.length&&(o=r[1])}s[i]=o.replace(/"/g,"'")}}),this))}return s},imgLoadModal:function(){t.log("imgLoadModal"),!0===this.options.imgupload?(this.$modal.find("#imguploader").dragfileupload({url:this.strf(this.options.img_uploadurl,this.options),extraParams:{maxwidth:this.options.img_maxwidth,maxheight:this.options.img_maxheight},themePrefix:this.options.themePrefix,themeName:this.options.themeName,success:t.proxy((function(t){this.$txtArea.insertImage(t.image_link,t.thumb_link),this.closeModal(),this.updateUI()}),this)}),this.$modal.find("#fileupl").bind("change",(function(){t("#fupform").submit()})),this.$modal.find("#fupform").bind("submit",t.proxy((function(e){t(e.target).parents("#imguploader").hide().after('<div class="loader"><img src="'+this.options.themePrefix+"/"+this.options.themeName+'/img/loader.gif" /><br/><span>'+CURLANG.loading+"</span></div>").parent().css("text-align","center")}),this))):(this.$modal.find(".hastabs").removeClass("hastabs"),this.$modal.find("#imguploader").parents(".tab-cont").remove(),this.$modal.find(".wbbm-tablist").remove())},imgSubmitModal:function(){t.log("imgSubmitModal")},printObjectInIE:function(e){try{t.log(JSON.stringify(e))}catch(t){}},checkFilter:function(e,i){t.log("node: "+t(e).get(0).outerHTML+" filter: "+i+" res: "+t(e).is(i.toLowerCase()))},debug:function(e){if(!0===this.options.debug){var i=(new Date).getTime();"undefined"!=typeof console?console.log(i-this.startTime+" ms: "+e):t("#exlog").append("<p>"+(i-this.startTime)+" ms: "+e+"</p>"),this.startTime=i}},isChrome:function(){return!!window.chrome},fixTableTransform:function(e){return e?-1==t.inArray("table",this.options.buttons)?e.replace(/\<(\/*?(table|tr|td|tbody))[^>]*\>/gi,""):e.replace(/\<(\/*?(table|tr|td))[^>]*\>/gi,"[$1]".toLowerCase()).replace(/\<\/*tbody[^>]*\>/gi,""):""}},t.log=function(e){"undefined"!=typeof wbbdebug&&!0===wbbdebug&&("undefined"!=typeof console?console.log(e):t("#exlog").append("<p>"+e+"</p>"))},t.fn.wysibb=function(e){return this.each((function(){t(this).data("wbb")||new t.wysibb(this,e)}))},t.fn.wdrag=function(e){e.scope||(e.scope=this);var i,n={x:0,y:0,height:0};e.scope.drag_mousedown=function(s){s.preventDefault(),n={x:s.pageX,y:s.pageY,height:e.height,sheight:e.scope.$body.height()},i=!0,t(document).bind("mousemove",t.proxy(e.scope.drag_mousemove,this)),t(this).addClass("drag")},e.scope.drag_mouseup=function(n){!0===i&&(n.preventDefault(),t(document).unbind("mousemove",e.scope.drag_mousemove),t(this).removeClass("drag"),i=!1)},e.scope.drag_mousemove=function(t){t.preventDefault();var i=0;if(e.axisX&&t.pageX-n.x,e.axisY&&(i=t.pageY-n.y),0!=i){var s=n.sheight+i;s>n.height&&s<=e.scope.options.resize_maxheight&&(1==e.scope.options.bbmode?e.scope.$txtArea.css(!0===e.scope.options.autoresize?"min-height":"height",s+"px"):e.scope.$body.css(!0===e.scope.options.autoresize?"min-height":"height",s+"px"))}},t(this).bind("mousedown",e.scope.drag_mousedown),t(document).bind("mouseup",t.proxy(e.scope.drag_mouseup,this))},t.fn.getDoc=function(){return this.data("wbb").doc},t.fn.getSelectText=function(t){return this.data("wbb").getSelectText(t)},t.fn.bbcode=function(t){return void 0!==t?(this.data("wbb").options.bbmode?this.data("wbb").$txtArea.val(t):this.data("wbb").$body.html(this.data("wbb").getHTML(t)),this):this.data("wbb").getBBCode()},t.fn.htmlcode=function(t){if(!this.data("wbb").options.onlyBBMode&&!0===this.data("wbb").inited)return void 0!==t?(this.data("wbb").$body.html(t),this):this.data("wbb").getHTML(this.data("wbb").$txtArea.val())},t.fn.getBBCode=function(){return this.data("wbb").getBBCode()},t.fn.getHTML=function(){var t=this.data("wbb");return t.getHTML(t.$txtArea.val())},t.fn.getHTMLByCommand=function(t,e){return this.data("wbb").getHTMLByCommand(t,e)},t.fn.getBBCodeByCommand=function(t,e){return this.data("wbb").getBBCodeByCommand(t,e)},t.fn.insertAtCursor=function(t,e){return this.data("wbb").insertAtCursor(t,e),this.data("wbb")},t.fn.execCommand=function(t,e){return this.data("wbb").execCommand(t,e),this.data("wbb")},t.fn.insertImage=function(t,e){var i=this.data("wbb"),n=e?i.getCodeByCommand("link",{url:t,seltext:i.getCodeByCommand("img",{src:e})}):i.getCodeByCommand("img",{src:t});return this.insertAtCursor(n),i},t.fn.sync=function(){return this.data("wbb").sync(),this.data("wbb")},t.fn.destroy=function(){this.data("wbb").destroy()},t.fn.queryState=function(t){return this.data("wbb").queryState(t)}}(jQuery),function(t){"use strict";function e(e,i){this.$block=t(e),this.opt=t.extend({url:!1,success:!1,extraParams:!1,fileParam:"img",validation:".(jpg|png|gif|jpeg)$",t1:CURLANG.fileupload_text1,t2:CURLANG.fileupload_text2},i)}t.fn.dragfileupload=function(t){return this.each((function(){new e(this,t).init()}))},e.prototype={init:function(){if(null!=window.FormData){this.$block.addClass("drag"),this.$block.prepend('<div class="p2">'+this.opt.t2+"</div>"),this.$block.prepend('<div class="p">'+this.opt.t1+"</div>"),this.$block.bind("dragover",(function(){return t(this).addClass("dragover"),!1})),this.$block.bind("dragleave",(function(){return t(this).removeClass("dragover"),!1}));var e=t.proxy((function(t){var e=parseInt(t.loaded/t.total*100,10);this.$loader.children("span").text(CURLANG.loading+": "+e+"%")}),this),i=jQuery.ajaxSettings.xhr();i.upload&&i.upload.addEventListener("progress",e,!1),this.$block[0].ondrop=t.proxy((function(e){e.preventDefault(),this.$block.removeClass("dragover");var n=e.dataTransfer.files[0];if(this.opt.validation&&!n.name.match(new RegExp(this.opt.validation)))return this.error(CURLANG.validation_err),!1;var s=new FormData;s.append(this.opt.fileParam,n),this.opt.extraParams&&t.each(this.opt.extraParams,(function(t,e){s.append(t,e)})),this.$loader=t('<div class="loader"><img src="'+this.opt.themePrefix+"/"+this.opt.themeName+'/img/loader.gif" /><br/><span>'+CURLANG.loading+"</span></div>"),this.$block.html(this.$loader),t.ajax({type:"POST",url:this.opt.url,data:s,processData:!1,contentType:!1,xhr:function(){return i},dataType:"json",success:t.proxy((function(t){t&&1==t.status?this.opt.success(t):this.error(t.msg||CURLANG.error_onupload)}),this),error:t.proxy((function(t,e,i){this.error(CURLANG.error_onupload)}),this)})}),this)}},error:function(t){this.$block.find(".upl-error").remove().end().append('<span class="upl-error">'+t+"</span>").addClass("wbbm-brdred")}}}(jQuery)},function(t,e){$((function(){var t=$(".to-top");$(document).height()>$(window).height()&&$(this).scrollTop()<50&&t.addClass("to-bottom").removeClass("to-top_hidden"),$(window).scroll((function(){$(this).scrollTop()>50?(t.removeClass("to-bottom"),t.addClass("to-header")):(t.addClass("to-bottom"),t.removeClass("to-header"))})),$(".to-top").click((function(t){t.preventDefault(),$(this).hasClass("to-header")?$("body,html").animate({scrollTop:0},800):$("body,html").animate({scrollTop:$(document).height()},800)}))})),$(document).ready((function(){"undefined"!=typeof wysibb_input&&$(wysibb_input).wysibb(wysibb_settings)}));new StickySidebar(".sidebar",{topSpacing:0,bottomSpacing:20,containerSelector:".page_layout",innerWrapperSelector:".sidebar__inner",minWidth:992})},function(t,e,i){var n={"./components/CommentsComponent.vue":54,"./components/LikesComponent.vue":55};function s(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id=52},,function(t,e,i){"use strict";i.r(e);var n={name:"CommentsComponent",props:{article_id:Number,can_write:{type:Boolean,default:!1},i18n:{type:Object,default:function(){return{write_comment:"Write a comment",send:"Send",delete:"Delete",quote:"Quote",reply:"Reply",comments:"Comments",empty_list:"The list is empty"}}}},data:function(){return{messages:{},comment_text:"",comment_added_message:"",error_message:"",loading:!1}},mounted:function(){this.getComments()},computed:{},methods:{getComments:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,axios.get("/news/?action=comments&article_id="+this.article_id+"&page="+e).then((function(e){t.messages=e.data,t.loading=!1})).catch((function(e){alert(e),t.loading=!1}))},reply:function(t){this.comment_text="[b]"+t.user.user_name+"[/b], ",$("#comment_text").focus()},quote:function(t){var e=t.text.replace(/(<([^>]+)>)/gi,"");this.comment_text="[quote][b]"+t.user.user_name+"[/b] "+t.created_at+"\n"+e+"[/quote]",$("#comment_text").focus()},sendComment:function(){var t=this;this.loading=!0,axios.post("/news/?action=add_comment&article_id="+this.article_id,{comment:this.comment_text}).then((function(e){t.comment_added_message=e.data.message,t.loading=!1,t.comment_text="",t.error_message="",t.getComments(e.data.last_page)})).catch((function(e){t.error_message=e.response.data.message,t.loading=!1}))},delComment:function(t){var e=this;this.loading=!0,axios.post("/news/?action=del_comment",{comment_id:t}).then((function(t){e.getComments(e.messages.current_page)})).catch((function(t){alert(t.response.data.message),e.loading=!1}))},__:function(t){return _.get(this.i18n,t,"")}}},s=i(2),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-4"},[i("h3",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("comments"))+" "),t.messages.total>0?i("span",{staticClass:"text-success"},[t._v(t._s(t.messages.total))]):t._e()]),t._v(" "),t.messages.data&&t.messages.data.length<1?i("div",{staticClass:"alert alert-info"},[t._v(t._s(t.__("empty_list")))]):t._e(),t._v(" "),t._l(t.messages.data,(function(e){return i("div",{staticClass:"new_post-item"},[i("div",{staticClass:"new_post-header d-flex justify-content-between"},[i("div",{staticClass:"post-user"},[e.user.profile_url?i("a",{attrs:{href:e.user.profile_url}},[i("div",{staticClass:"avatar"},[i("img",{staticClass:"img-fluid",attrs:{src:e.user.avatar,alt:"."}})])]):t._e(),t._v(" "),i("span",{staticClass:"user-status shadow",class:e.user.is_online?"online":"offline"}),t._v(" "),e.user.rights_name?i("div",{staticClass:"post-of-user",attrs:{"data-toggle":"tooltip","data-placement":"top","data-html":"true",title:e.user.rights_name}},[i("svg",{staticClass:"icon-post"},[i("use",{attrs:{"xlink:href":"/themes/default/assets/icons/sprite.svg?#check"}})])]):t._e()]),t._v(" "),i("div",{staticClass:"flex-grow-1 post-user d-flex flex-wrap overflow-hidden d-flex align-items-center"},[i("div",{staticClass:"w-100"},[e.user.profile_url?i("a",{attrs:{href:e.user.profile_url}},[i("span",{staticClass:"user-name d-inline mr-2"},[t._v(t._s(e.user.user_name))])]):t._e(),t._v(" "),e.user.profile_url?t._e():i("div",{staticClass:"user-name d-inline mr-2"},[t._v(t._s(e.user.user_name))]),t._v(" "),i("span",{staticClass:"post-meta d-inline mr-2",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Link to post"}},[t._v("\n                        "+t._s(e.created_at)+"\n                    ")])]),t._v(" "),e.user.status?i("div",{staticClass:"overflow-hidden text-nowrap text-dark-brown overflow-ellipsis small"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.user.status))])]):t._e()])]),t._v(" "),i("div",{staticClass:"post-body pt-2 pb-2",domProps:{innerHTML:t._s(e.text)}}),t._v(" "),i("div",{staticClass:"post-footer d-flex justify-content-between"},[i("div",{staticClass:"overflow-hidden"},[e.ip?i("div",{staticClass:"post-meta d-flex"},[i("div",{staticClass:"user-ip mr-2"},[i("a",{attrs:{href:e.search_ip_url}},[t._v(t._s(e.ip))])]),t._v(" "),i("div",{staticClass:"useragent"},[i("span",[t._v(t._s(e.user_agent))])])]):t._e()]),t._v(" "),i("div",{staticClass:"d-flex"},[e.can_reply?i("div",{staticClass:"ml-3"},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.reply(e)}}},[t._v(t._s(t.__("reply")))])]):t._e(),t._v(" "),e.can_quote?i("div",{staticClass:"ml-3"},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.quote(e)}}},[t._v(t._s(t.__("quote")))])]):t._e(),t._v(" "),e.can_delete?i("div",{staticClass:"dropdown ml-3"},[i("div",{staticClass:"cursor-pointer",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("svg",{staticClass:"icon text-primary"},[i("use",{attrs:{"xlink:href":"/themes/default/assets/icons/sprite.svg?#more_horizontal"}})])]),t._v(" "),i("div",{staticClass:"dropdown-menu dropdown-menu-right"},[i("a",{staticClass:"dropdown-item",attrs:{href:""},on:{click:function(i){return i.preventDefault(),t.delComment(e.id)}}},[t._v(t._s(t.__("delete")))])])]):t._e()])])])})),t._v(" "),i("pagination",{staticClass:"mt-3",attrs:{data:t.messages},on:{"pagination-change-page":t.getComments}}),t._v(" "),t.can_write?i("div",{staticClass:"mt-4"},[i("h3",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("write_comment")))]),t._v(" "),i("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.sendComment(e)}}},[t.error_message?i("div",{staticClass:"d-flex"},[i("div",{staticClass:"alert alert-danger d-inline"},[t._v(t._s(t.error_message))])]):t._e(),t._v(" "),t.comment_added_message?i("div",{staticClass:"d-flex"},[i("div",{staticClass:"alert alert-success d-inline"},[t._v(t._s(t.comment_added_message))])]):t._e(),t._v(" "),i("div",{staticStyle:{"max-width":"800px"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment_text,expression:"comment_text"}],staticClass:"form-control",attrs:{name:"text",id:"comment_text",rows:"6",required:""},domProps:{value:t.comment_text},on:{input:function(e){e.target.composing||(t.comment_text=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"mt-2"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"submit",name:"submit",value:"1",disabled:t.loading}},[t.loading?i("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n                    "+t._s(t.__("send"))+"\n                ")]),t._v(" "),i("div")])])]):t._e()],2)}),[],!1,null,null,null);e.default=o.exports},function(t,e,i){"use strict";i.r(e);var n={name:"LikesComponent",props:{article_id:Number,rating:{type:Number,default:0},can_vote:{type:Boolean,default:!1},voted:{type:Number,default:0},set_vote_url:{type:String,default:"/news/"}},data:function(){return{message:"",loading:!1}},computed:{rating_color:function(){var t="";return this.rating>0?t="text-success":this.rating<0&&(t="text-danger"),t}},methods:{setVote:function(t){var e=this;this.loading=!0,axios.get(this.set_vote_url+"?action=set_vote&type_vote="+t+"&article_id="+this.article_id).then((function(t){e.rating=t.data.rating,e.voted=t.data.voted,e.message=t.data.message,e.loading=!1})).catch((function(t){alert(t),e.loading=!1}))}}},s=i(2),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"position-relative"},[t.loading?i("div",{staticClass:"d-flex justify-content-center position-absolute w-100 vote-preloader"},[t._m(0)]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-light btn-sm",class:t.voted>0?"liked":"",attrs:{disabled:t.voted>0||!t.can_vote},on:{click:function(e){return t.setVote(1)}}},[i("svg",{staticClass:"icon download-button-icon mt-n1"},[i("use",{attrs:{"xlink:href":"/themes/default/assets/icons/sprite.svg#like"}})])]),t._v(" "),i("span",{staticClass:"ml-2 mr-2 font-weight-bold",class:t.rating_color},[t._v(t._s(t.rating>0?"+":"")+t._s(t.rating))]),t._v(" "),i("button",{staticClass:"btn btn-light btn-sm",class:t.voted<0?"disliked":"",attrs:{disabled:t.voted<0||!t.can_vote},on:{click:function(e){return t.setVote(-1)}}},[i("svg",{staticClass:"icon download-button-icon mr-1"},[i("use",{attrs:{"xlink:href":"/themes/default/assets/icons/sprite.svg#dislike"}})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,null,null);e.default=o.exports},function(t,e){}],[[15,1,2]]]);
//# sourceMappingURL=app.js.map